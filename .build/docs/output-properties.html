<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>WebRx - Output Properties</title>

    <meta property="og:type" content="website" />
    <meta property="og:title" content="WebRx - Output Properties" />
    <meta property="og:site_name" content="WebRx" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lato|Raleway" /> 
        
    <link rel='stylesheet' type='text/css' href='/bundles/1e24c3a4de366c5bce533f98c62988ce.css' />
 
    
    <script type='text/javascript' src='/bundles/8bd7095abad18365d4da3020203ccfb2.js'></script>


    <link rel="stylesheet" type="text/css" href="/css/main.css" />
</head>

<body class="top-navigation skin-1">
    <div id="wrapper">
        <div id="page-wrapper" class="gray-bg dashbard-1">
            <div class="row border-bottom">
                <nav class="navbar navbar-static-top" role="navigation">
                    <div class="navbar-header">
                    <a class="main-logo hvr-pop" style="color: #303030;" href="/"><span class="logo-icon"></span><span>WebRx</span></a>
                        <button id="hamburger-menu" aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed"
                        type="button">
                            <span class="glyphicon glyphicon-menu-hamburger"></span>
                        </button>
                    </div>

                    <div class="navbar-collapse collapse" id="navbar" aria-expanded="false">
                        <ul class="nav navbar-nav">
                        </ul>

                        <ul class="nav navbar-nav navbar-top-links navbar-right">
                            <li><a href="/examples">Examples</a></li>
                            <li><a href="/docs/getting-started.html">Documentation</a></li>

                            <li><a href="https://github.com/WebRxJS/WebRx"><i class="fa fa-github"></i> Source</a></li>
                            <li id="news"><a target="_blank" href="https://twitter.com/webrxjs"><i class="fa fa-twitter"></i> News</a></li>
                        </ul>
                </div>
                </nav>
            </div>

            <div class="row body-wrapper border-bottom white-bg dashboard-header">
                <div class="col-lg-12">
                    <div class="wrapper wrapper-content">
                        <style>
     .content-panel {
         padding: 15px;
     }
</style>

<div class="content-panel docs syntax-theme-grey">
    <div class="row">
        <div class="col-md-3">
            <div id="doc-index" class="index">
                <h3>Getting started</h3>
                <ul>
                    <li><a href="../docs/getting-started.html">Getting Started</a></li>
                    <li><a href="../docs/index.html">Introduction</a></li>
                </ul>

                <h3>Binding syntax</h3>
                <ul>
                    <li><a href="../docs/binding-syntax.html">The data-bind syntax</a></li>
                    <li><a href="../docs/binding-context.html">The binding context</a></li>
                </ul>

                <h3>Building Blocks</h3>
                <ul>
                    <li><a href="../docs/observable-properties.html">Observable Properties</a></li>
                    <li><a href="../docs/output-properties.html">Output Properties</a></li>
                    <li><a href="../docs/observable-lists.html">Observable Lists</a></li>
                    <li><a href="../docs/commands.html">Commands</a></li>
                </ul>

                <h3>Bindings</h3>

                <h4>Controlling text and appearance</h4>
                <ul>
                    <li><a href="../docs/visible-binding.html">The visible binding</a></li>
                    <li><a href="../docs/hidden-binding.html">The hidden binding</a></li>
                    <li><a href="../docs/text-binding.html">The text binding</a></li>
                    <li><a href="../docs/html-binding.html">The html binding</a></li>
                    <li><a href="../docs/css-binding.html">The css binding</a></li>
                    <li><a href="../docs/style-binding.html">The style binding</a></li>
                    <li><a href="../docs/attr-binding.html">The attr binding</a></li>
                </ul>

                <h4>Control flow</h4>
                <ul>
                    <li><a href="../docs/foreach-binding.html">The foreach binding</a></li>
                    <li><a href="../docs/if-binding.html">The if binding</a></li>
                    <li><a href="../docs/ifnot-binding.html">The ifnot binding</a></li>
                    <li><a href="../docs/with-binding.html">The with binding</a></li>
                </ul>

                <h4>Working with form fields</h4>
                <ul>
                    <li><a href="../docs/command-binding.html">The command binding</a></li>
                    <li><a href="../docs/keyPress-binding.html">The keyPress binding</a></li>
                    <li><a href="../docs/event-binding.html">The event binding</a></li>
                    <li><a href="../docs/enabled-binding.html">The enabled binding</a></li>
                    <li><a href="../docs/disabled-binding.html">The disabled binding</a></li>
                    <li><a href="../docs/value-binding.html">The value binding</a></li>
                    <li><a href="../docs/textinput-binding.html">The textInput binding</a></li>
                    <li><a href="../docs/hasfocus-binding.html">The hasFocus binding</a></li>
                    <li><a href="../docs/checked-binding.html">The checked binding</a></li>
                    <li><a href="../docs/selected-value-binding.html">The selectedValue binding</a></li>
                </ul>

                <h3>Custom bindings</h3>
                <ul>
                    <li><a href="../docs/custom-bindings.html">Creating custom bindings</a></li>
                </ul>

                <h3>Components</h3>
                <ul>
                    <li><a href="../docs/component-overview.html">Overview: What components and custom elements offer</a></li>
                    <li><a href="../docs/component-registration.html">Defining and registering components</a></li>
                    <li><a href="../docs/component-binding.html">The component binding</a></li>
                    <!-- <li><a href="../docs/component-custom-elements.html">Using custom elements</a></li>
                    <li><a href="../docs/component-built-in.html">Built-in components</a></li> -->
                </ul>

                <h3>Modules</h3>
                <ul>
                    <li><a href="../docs/module-overview.html">Overview: What modules offer</a></li>
                    <li><a href="../docs/module-registration.html">Defining and registering modules</a></li>
                    <li><a href="../docs/module-binding.html">The module binding</a></li>
                </ul>

                <h3>Routing</h3>
                <ul>
                    <li><a href="../docs/routing-overview.html">Overview: Routing architecture</a></li>
                    <li><a href="../docs/routing-registration.html">Defining and registering routing states</a></li>
                    <li><a href="../docs/view-binding.html">The view binding</a></li>
                    <li><a href="../docs/sref-binding.html">The sref binding</a></li>
                    <li><a href="../docs/sactive-binding.html">The sactive binding</a></li>
                </ul>

                <h3>Dependency-Injection</h3>
                <ul>
                    <li><a href="../docs/dependency-injection-overview.html">Overview: Dependency Injection</a></li>
                    <li><a href="../docs/dependency-registration.html">Defining and registering dependencies</a></li>
                </ul>

                <h3>Messaging</h3>
                <ul>
                    <li><a href="../docs/message-bus.html">Overview: Messaging</a></li>
                </ul>

                <!--
                <h3>Further techniques</h3>
                <ul>
                    <li><a href="../docs/unobtrusive-event-handling.html">Unobtrusive event handling</a></li>
                    <li><a href="../docs/binding-preprocessing.html">Extending Webrx's binding syntax</a></li>
                </ul>
                -->

                <h3>API Docs</h3>
                <ul>
                    <li><a href="../api/modules/_interfaces_.wx.html">Module wx</a></li>
                </ul>

                <h3>More information</h3>
                <ul>
                    <li><a href="../docs/browser-support.html">Browser support</a></li>
                </ul>
            </div>
        </div>

        <div id="start" class="col-md-9">
            <div class="body"><div class="alert alert-danger sample-warning" role="alert">
<b>Note:</b> You are viewing this page using an <a href="/docs/browser-support.html#start">unsupported browser</a>. The interactive samples will most likely not work correctly. 
</div>

<h1>Output Properties</h1>

<p><code>Output properties</code> are observable properties that are backed by an Rx-Observable. Output properties are <strong>read-only</strong>, but will still fire change notifications.</p>

<p>Output properties are created by calling the <code>toProperty()</code> operator on <strong>any Rx-Observable</strong> instance.</p>

<h2>Example</h2>

<p>What if you&#39;ve got a property for <code>firstName</code>, and another for <code>lastName</code>, and you want to display the full name? 
That&#39;s where output properties come in. </p>

<p>For example, given the following view model class ...</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">AppViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'Smith'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>… you could add an output property to return the full name:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">AppViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ... leave firstName and lastName unchanged ...</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">whenAny</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span> 
      <span class="k">return</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">" "</span> <span class="o">+</span> <span class="nx">lastName</span><span class="p">;</span> <span class="p">}).</span><span class="nx">toProperty</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>... now you could bind UI elements to it, e.g.:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">"text: fullName"</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<p>… and they will be updated whenever <code>firstName</code> or <code>lastName</code> changes (your evaluator function will be called once each time any of its dependencies change, 
and whatever value you return will be passed on to the observers such as UI elements or other output properties).</p>

<h2>How it works</h2>

<p>So how did the example work?</p>

<p>One of the core features of WebRx is to be able to convert properties to <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a>, via <code>whenAny</code>, and to convert <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a> into properties, via a method called <code>toProperty</code>. </p>

<p>The <code>whenAny</code> function takes  an <strong>arbitrary combination</strong> of either <strong>observable properties</strong> or <strong>observables</strong> as arguments, in case of observable-properties, subscribes to their <code>changed</code> observable, 
and invokes a user supplied selector function when any (hence the name) of its inputs changes. 
The selector function receives the latest value of all inputs as arguments. </p>

<p>The result of <code>whenAny</code> is an Rx-Observable representing the results of the selector function.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">observable</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">whenAny</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span> 
  <span class="k">return</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">" "</span> <span class="o">+</span> <span class="nx">lastName</span><span class="p">;</span> 
<span class="p">});</span>
</code></pre></div>
<p>So, now that we&#39;ve got an observable representing <code>fullName</code> we can simply invoke the aforementioned <code>toProperty</code> function and voila, we&#39;ve turned the observable into a read-only property that can be bound to a view like any other property.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">observable</span><span class="p">.</span><span class="nx">toProperty</span><span class="p">();</span>
</code></pre></div>
<h2>Digging deeper</h2>

<p>Remember when we&#39;ve utilized <code>toProperty</code> to turn the result of <code>whenAny</code> into a property? An important detail about toProperty is that it is in no way limited to observables returned by whenAny. In fact <code>toProperty</code> is implemented as a custom Rx-Operator that extends all Rx-Observables. This fact opens up a whole array of possibilities because it enables you to leverage the full spectrum of <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/which-instance.md">Rx&#39;s operators</a> in your UI.</p>

<h3>Example</h3>

<p>Imagine you want to display a countdown-timer in your UI. The timer would count down from 10 to 1 at a one second interval. Implementing that would be as easy as this:</p>

<p>View-Model:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">AppViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">countDown</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">timer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">10</span> <span class="o">-</span> <span class="nx">x</span><span class="p">;</span> <span class="p">})</span>
      <span class="p">.</span><span class="nx">take</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">toProperty</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>View-Template:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">Seconds until auto-logout: <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">"text: countDown"</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<h2>Live Example</h2>

<p data-height="268" data-theme-id="0" data-slug-hash="LEombz" data-default-tab="result" data-user="oliverw" class='codepen'>See the Pen <a href='http://codepen.io/oliverw/pen/LEombz/'>LEombz</a> by Oliver Weichhold (<a href='http://codepen.io/oliverw'>@oliverw</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//assets.codepen.io/assets/embed/ei.js"></script>

<p><a class="next-topic" href="/docs/observable-lists.html">Next: Observable-Lists</a></p>
</div>
        </div>
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row upper-section">
                <div class="col-xs-12 col-sm-4 col-md-3">
                    Copyright (c) 2015 WebRxJS.org
                </div>
            </div>
        </div>
    </footer>

    </div>

    <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
    </script>

    <script type='text/javascript' src='/bundles/b90b1a7edb0dd2e1eeef510a60864172.js'></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
    </script>
</body>

</html>