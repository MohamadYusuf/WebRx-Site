<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - Observable Properties</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - Observable Properties" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="/assets/bootstrap.min-3520b776381e47b725a3a6351274dc3d.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/assets/syntax-f61aeb2ae597ff94fa8f31ce7ca5ceef.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/assets/main-a0a862d6b3cfd0ff9c10e4b4564ca851.css">
    </head>
    <body>
        <h1 id="logoh1">WebRx - Observable Properties</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-inverse">
              <div class="container-fluid">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="/"><img alt="Brand" src="/images/logo.png"></a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="/docs">Documentation</a></li>
                    <li><a href="https://github.com/oliverw/WebRx"><img width="16" src="/images/GitHub-Mark-Light-32px.png"/>Source</a></li>
                    <li><a href="http://twitter.com/intent/tweet?url=http://webrxjs.org&text=WebRx - Dynamic JavaScript UIs with ReactiveX&via=oliverweichhold" target="_blank"><img width="16" src="/images/Twitter_logo_white.png"/>Tweet</a></li>
                   </ul>
                </div>
              </div>
            </nav>

          <div class="content-panel docs">
	<div class="row">
		<div class="col-md-3">
			<div class="index">
				<h3>Getting started</h3>
				<ul>
				    <li><a href="../docs/index.html#start">How WebRx works and what benefits it brings</a></li>
				</ul>

				<h3>Binding syntax</h3>
				<ul>
				    <li><a href="../docs/binding-syntax.html#start">The <code>data-bind</code> syntax</a></li>
				    <li><a href="../docs/binding-context.html#start">The binding context</a></li>
				</ul>

				<h3>Observables</h3>
				<ul>
				    <li><a href="../docs/observable-properties.html#start">Creating view models with observable properties</a></li>
				    <li><a href="../docs/computed-observable-properties.html#start">Computed observable properties</a></li>
				    <li><a href="../docs/observable-lists.html#start">Working with observable lists</a></li>	
				</ul>

				<h3>Bindings</h3>

				<h4>Controlling text and appearance</h4>
				<ul>
				    <li><a href="../docs/visible-binding.html#start">The <code>visible</code> binding</a></li>
				    <li><a href="../docs/text-binding.html#start">The <code>text</code> binding</a></li>
				    <li><a href="../docs/html-binding.html#start">The <code>html</code> binding</a></li>
				    <li><a href="../docs/css-binding.html#start">The <code>css</code> binding</a></li>
				    <li><a href="../docs/style-binding.html#start">The <code>style</code> binding</a></li>
				    <li><a href="../docs/attr-binding.html#start">The <code>attr</code> binding</a></li>
				</ul>

				<h4>Control flow</h4>
				<ul>
				    <li><a href="../docs/foreach-binding.html#start">The <code>foreach</code> binding</a></li>
				    <li><a href="../docs/if-binding.html#start">The <code>if</code> binding</a></li>
				    <li><a href="../docs/ifnot-binding.html#start">The <code>ifnot</code> binding</a></li>
				    <li><a href="../docs/with-binding.html#start">The <code>with</code> binding</a></li>
				    <li><a href="../docs/component-binding.html#start">The <code>component</code> binding</a></li>
				</ul>

				<h4>Working with form fields</h4>
				<ul>
				    <li><a href="../docs/click-binding.html#start">The <code>click</code> binding</a></li>
				    <li><a href="../docs/event-binding.html#start">The <code>event</code> binding</a></li>
				    <li><a href="../docs/submit-binding.html#start">The <code>submit</code> binding</a></li>
				    <li><a href="../docs/enable-binding.html#start">The <code>enable</code> binding</a></li>
				    <li><a href="../docs/disable-binding.html#start">The <code>disable</code> binding</a></li>
				    <li><a href="../docs/value-binding.html#start">The <code>value</code> binding</a></li>
				    <li><a href="../docs/textinput-binding.html#start">The <code>textInput</code> binding</a></li>
				    <li><a href="../docs/hasfocus-binding.html#start">The <code>hasFocus</code> binding</a></li>
				    <li><a href="../docs/checked-binding.html#start">The <code>checked</code> binding</a></li>
				    <li><a href="../docs/selectedValue-binding.html#start">The <code>selectedValue</code> binding</a></li>    
				</ul>

				<h3>Creating custom bindings</h3>
				<ul>
				    <li><a href="../docs/custom-bindings.html#start">Creating custom bindings</a></li>
				    <li><a href="../docs/custom-bindings-controlling-descendant-bindings.html#start">Controlling descendant bindings</a></li>
				    <li><a href="../docs/custom-bindings-disposal.html#start">Custom disposal logic</a></li>
				</ul>

				<h3>Components</h3>
				<ul>
				    <li><a href="../docs/component-overview.html#start">Overview: What <em>components</em> and <em>custom elements</em> offer</a></li>
				    <li><a href="../docs/component-registration.html#start">Defining and registering components</a></li>
				    <li><a href="../docs/component-binding.html#start">The <code>component</code> binding</a></li>
				    <li><a href="../docs/component-custom-elements.html#start">Using custom elements</a></li>
				    <li><a href="../docs/component-built-in.html#start">Built-in components</a></li>
				</ul>

				<h3>Further techniques</h3>
				<ul>
				    <li><a href="../docs/unobtrusive-event-handling.html#start">Unobtrusive event handling</a></li>
				    <li><a href="../docs/binding-preprocessing.html#start">Extending Webrx's binding syntax</a></li>
				</ul>

				<h3>More information</h3>
				<ul>
				    <li><a href="../docs/browser-support.html#start">Browser support</a></li>
				</ul>
			</div>
		</div>

		<div id="start" class="col-md-9">
			<div class="body"><h2>Computed Observable Properties</h2>

<p>What if you’ve got a property for firstName, and another for lastName, and you want to display the full name? That’s where computed observable properties come in. </p>

<p>For example, given the following view model class ...</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">AppViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;Smith&#39;</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>… you could add a computed observable to return the full name:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">AppViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ... leave firstName and lastName unchanged ...</span>
 
    <span class="k">this</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">whenAny</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span> 
      <span class="k">return</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">lastName</span><span class="p">;</span> <span class="p">}).</span><span class="nx">toProperty</span><span class="p">();</span>
<span class="p">}</span></code></pre></div>

<p>... now you could bind UI elements to it, e.g.:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: fullName&quot;</span><span class="nt">&gt;&lt;/span&gt;</span></code></pre></div>

<p>… and they will be updated whenever <em>firstName</em> or <em>lastName</em> changes (your evaluator function will be called once each time any of its dependencies change, and whatever value you return will be passed on to the observers such as UI elements or other computed observables).</p>

<h3>How it works</h3>

<p>So how did the sample above work?</p>

<p>One of the core features of WebRx is to be able to convert properties to <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a>, via <em>whenAny</em>, and to convert <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a> into properties, via a method called <em>toProperty</em>. </p>

<p>The <em>whenAny</em> function takes any number of properties as input, subscribes to their <em>changed</em> observables, and invokes a user supplied selector function when any (hence the name) of its inputs changes. The selector function receives the latest value of all inputs as arguments. The result of <em>whenAny</em> is always an Rx Observable.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">observable</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">whenAny</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span> <span class="nx">lastName</span><span class="p">)</span> <span class="p">{</span> 
  <span class="k">return</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">lastName</span><span class="p">;</span> 
<span class="p">});</span></code></pre></div>

<p>So, now that we&#39;ve got an observable representing <em>fullName</em> we can simply invoke the aforementioned <em>toProperty</em> function and voila, we&#39;ve turned the observable into a read-only property that can be bound to a view like any other property.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span> <span class="o">=</span> <span class="nx">observable</span><span class="p">.</span><span class="nx">toProperty</span><span class="p">();</span></code></pre></div>

<h3>Digging deeper</h3>

<p>Remember when we&#39;ve utilized <em>toProperty</em> to turn the result of <em>whenAny</em> into a property? An important detail about toProperty is that it is in no way limited to observables returned by whenAny. In fact <em>toProperty</em> is implemented as a custom Rx-Operator that extends all Rx-Observables. This fact opens up a whole array of possibilities because it enables you to leverage the full spectrum of <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/which-instance.md">Rx&#39;s operators</a> in your UI.</p>

<h4>Example</h4>

<p>Imagine you wanted to display a countdown-timer in your UI. The timer would count down from 10 to 1 at a one second interval. Implementing that would be as easy as this:</p>

<p>View-Model:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">AppViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">countDown</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">10</span> <span class="o">-</span> <span class="nx">x</span><span class="p">;</span> <span class="p">})</span>
      <span class="p">.</span><span class="nx">zip</span><span class="p">(</span><span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">timer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">lhs</span><span class="p">;</span> <span class="p">})</span>
      <span class="p">.</span><span class="nx">toProperty</span><span class="p">();</span>
<span class="p">}</span></code></pre></div>

<p>View-Template:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html">Seconds until auto-logout: <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: countDown&quot;</span><span class="nt">&gt;&lt;/span&gt;</span></code></pre></div>

<h4>Live Example</h4>

<iframe width="100%" height="300" src="//jsfiddle.net/oliverw/1nwsased/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>
		</div>
	</div>
</div>



            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 Oliver Weichhold
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script src="/assets/jquery-41f60d5fa84e6e8d7b40f632e0568b79.js"></script>
        <script src="/assets/bootstrap.min-26a3cccafd748b47ae34e937d84db91b.js"></script>
        <script src="/assets/rx.lite.min-056ca58d2385c8db19b643e4dd92b1f2.js"></script>
        <script src="/assets/rx.lite.extras.min-9dc421df46cc2751004ed5d6686e321c.js"></script>
        <script src="/assets/web.rx-d6cafde3b8b2f790093b0bbe4efc6b1f.js"></script>
        <script src="/assets/default-4cb5236e97f07af4a0db9e6d24b26e89.js"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
