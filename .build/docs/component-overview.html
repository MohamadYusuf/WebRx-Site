<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - Component Overview</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - Component Overview" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link rel='stylesheet' type='text/css' href='/bundles/8f454208102f7713a66ee00f7fb71046.css' />


        <script type='text/javascript' src='/bundles/69e7d74f96f61e00f6a1b760a46d312e.js'></script>


        <script type='text/javascript' src='/js/web.rx.js'></script>
      </head>
    <body>
        <h1 id="logoh1">WebRx - Component Overview</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-inverse">
              <div class="container-fluid">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="/"><h3 class="logo"><span>WebR</span><span class="x">X</span></h3></a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="/docs/examples.html">Examples</a></li>
                    <li><a href="/docs">Documentation</a></li>

                    <li><a href="https://github.com/oliverw/WebRx"><img width="16" src="/images/GitHub-Mark-Light-32px.png"/>Source</a></li>
                   </ul>
                </div>
              </div>
            </nav>

          <style>
     .content-panel {
         padding: 15px;
     }
</style>

<div class="content-panel docs">
	<div class="row">
		<div class="col-md-3">
			<div class="index">
				<h3>Getting started</h3>
				<ul>
				    <li><a href="../docs/index.html#start">How WebRx works and what benefits it brings</a></li>
				</ul>

				<h3>Binding syntax</h3>
				<ul>
				    <li><a href="../docs/binding-syntax.html#start">The <i>data-bind</i> syntax</a></li>
				    <li><a href="../docs/binding-context.html#start">The binding context</a></li>
				</ul>

				<h3>Core Components</h3>
				<ul>
				    <li><a href="../docs/observable-properties.html#start">Observable Properties</a></li>
				    <li><a href="../docs/output-properties.html#start">Output Properties</a></li>
				    <li><a href="../docs/observable-lists.html#start">Observable Lists</a></li>	
                    <li><a href="../docs/commands.html#start">Commands</a></li>
				</ul>

				<h3>Bindings</h3>

				<h4>Controlling text and appearance</h4>
				<ul>
				    <li><a href="../docs/visible-binding.html#start">The <i>visible</i> binding</a></li>
				    <li><a href="../docs/hidden-binding.html#start">The <i>hidden</i> binding</a></li>
				    <li><a href="../docs/text-binding.html#start">The <i>text</i> binding</a></li>
				    <li><a href="../docs/html-binding.html#start">The <i>html</i> binding</a></li>
				    <li><a href="../docs/css-binding.html#start">The <i>css</i> binding</a></li>
				    <li><a href="../docs/style-binding.html#start">The <i>style</i> binding</a></li>
				    <li><a href="../docs/attr-binding.html#start">The <i>attr</i> binding</a></li>
				</ul>

				<h4>Control flow</h4>
				<ul>
				    <li><a href="../docs/foreach-binding.html#start">The <i>foreach</i> binding</a></li>
				    <li><a href="../docs/if-binding.html#start">The <i>if</i> binding</a></li>
				    <li><a href="../docs/ifnot-binding.html#start">The <i>ifnot</i> binding</a></li>
				    <li><a href="../docs/with-binding.html#start">The <i>with</i> binding</a></li>
				</ul>

				<h4>Working with form fields</h4>
				<ul>
				    <li><a href="../docs/command-binding.html#start">The <i>command</i> binding</a></li>
				    <li><a href="../docs/event-binding.html#start">The <i>event</i> binding</a></li>
				    <li><a href="../docs/enabled-binding.html#start">The <i>enabled</i> binding</a></li>
				    <li><a href="../docs/disabled-binding.html#start">The <i>disabled</i> binding</a></li>
				    <li><a href="../docs/value-binding.html#start">The <i>value</i> binding</a></li>
				    <li><a href="../docs/textinput-binding.html#start">The <i>textInput</i> binding</a></li>
				    <li><a href="../docs/hasfocus-binding.html#start">The <i>hasFocus</i> binding</a></li>
				    <li><a href="../docs/checked-binding.html#start">The <i>checked</i> binding</a></li>
				    <li><a href="../docs/selected-value-binding.html#start">The <i>selectedValue</i> binding</a></li>    
				</ul>
			
                <!--
				<h3>Creating custom bindings</h3>
				<ul>
				    <li><a href="../docs/custom-bindings.html#start">Creating custom bindings</a></li>
				    <li><a href="../docs/custom-bindings-controlling-descendant-bindings.html#start">Controlling descendant bindings</a></li>
				    <li><a href="../docs/custom-bindings-disposal.html#start">Custom disposal logic</a></li>
				</ul>
                -->
			    
                <h3>Components</h3>
				<ul>
				    <li><a href="../docs/component-overview.html#start">Overview: What components and custom elements offer</a></li>
				    <li><a href="../docs/component-registration.html#start">Defining and registering components</a></li>
				    <li><a href="../docs/component-binding.html#start">The <i>component</i> binding</a></li>
				    <!-- <li><a href="../docs/component-custom-elements.html#start">Using custom elements</a></li> 
				    <li><a href="../docs/component-built-in.html#start">Built-in components</a></li> -->
				</ul>

				<h3>Modules</h3>
				<ul>
				    <li><a href="../docs/module-overview.html#start">Overview: What modules offer</a></li>
				    <li><a href="../docs/module-registration.html#start">Defining and registering modules</a></li>
				    <li><a href="../docs/module-binding.html#start">The <i>module</i> binding</a></li>
				</ul>

				<h3>Routing</h3>
				<ul>
				    <li><a href="../docs/routing-overview.html#start">Overview: Routing architecture</a></li>
				    <li><a href="../docs/routing-registration.html#start">Defining and registering routing states</a></li>
				    <li><a href="../docs/view-binding.html#start">The <i>view</i> binding</a></li>
				    <li><a href="../docs/sref-binding.html#start">The <i>sref</i> binding</a></li>
                    <li><a href="../docs/sactive-binding.html#start">The <i>sactive</i> binding</a></li>
				</ul>

                <h3>Dependency-Injection</h3>
                <ul>
                    <li><a href="../docs/dependency-injection-overview.html#start">Overview: Dependency Injection</a></li>
                    <li><a href="../docs/dependency-registration.html#start">Defining and registering dependencies</a></li>
                </ul>

                <h3>Messaging</h3>
                <ul>
                    <li><a href="../docs/message-bus.html#start">Overview: Messaging</a></li>
                </ul>

			    <!--
				<h3>Further techniques</h3>
				<ul>
				    <li><a href="../docs/unobtrusive-event-handling.html#start">Unobtrusive event handling</a></li>
				    <li><a href="../docs/binding-preprocessing.html#start">Extending Webrx's binding syntax</a></li>
				</ul>
                -->

				<h3>API Docs</h3>
				<ul>
				    <li><a href="../api/modules/_interfaces_.wx.html">Module <code>wx</code></a></li>
				</ul>

				<h3>More information</h3>
				<ul>
				    <li><a href="../docs/browser-support.html#start">Browser support</a></li>
				</ul>
			</div>
		</div>

		<div id="start" class="col-md-9">
			<div class="body"><h1>Component Overview</h1>

<p>Components are a powerful, clean way of organizing your UI code into self-contained, reusable chunks. They:</p>

<ul>
<li>…can represent individual controls/widgets, or entire sections of your application</li>
<li>…contain their own view, and usually (but optionally) their own viewmodel</li>
<li>…can either be preloaded, or loaded asynchronously (on demand) via AMD or other module systems</li>
<li>…can receive parameters, and optionally write back changes to them or invoke callbacks</li>
<li>…can be composed together (nested) or inherited from other components</li>
<li>…can easily be packaged for reuse across projects</li>
<li>…let you define your own conventions/logic for configuration and loading</li>
</ul>

<p>This pattern is beneficial for large applications, because it simplifies development through 
clear organization and encapsulation, and helps to improve runtime performance by incrementally 
loading your application code and templates as needed.</p>

<p>Custom elements are an optional but convenient syntax for consuming components. Instead of needing 
placeholder <code>&lt;div&gt;</code> into which components are injected with bindings, you can use more self-descriptive 
markup with custom element names. </p>

<h2>Example: A like/dislike widget</h2>

<p>To get started, you can register a component using wx.components.register (technically, registration is optional, 
but it&#39;s the easiest way to get started). A component definition specifies a view-model and template. For example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">wx</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;like-widget&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">viewModel</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Data: value is either null, &#39;like&#39;, or &#39;dislike&#39;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">chosenValue</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>

        <span class="c1">// Behaviors</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">likeCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">chosenValue</span><span class="p">(</span><span class="s1">&#39;like&#39;</span><span class="p">);</span> <span class="p">},</span> <span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">dislikeCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">chosenValue</span><span class="p">(</span><span class="s1">&#39;dislike&#39;</span><span class="p">);</span> <span class="p">},</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">template</span><span class="o">:</span>
        <span class="s1">&#39;&lt;div class=&quot;like-or-dislike&quot; data-bind=&quot;visible: !chosenValue&quot;&gt;\</span>
<span class="s1">            &lt;button data-bind=&quot;command: likeCmd&quot;&gt;Like it&lt;/button&gt;\</span>
<span class="s1">            &lt;button data-bind=&quot;command: dislikeCmd&quot;&gt;Dislike it&lt;/button&gt;\</span>
<span class="s1">        &lt;/div&gt;\</span>
<span class="s1">        &lt;div class=&quot;result&quot; data-bind=&quot;visible: chosenValue&quot;&gt;\</span>
<span class="s1">            You &lt;strong data-bind=&quot;text: chosenValue&quot;&gt;&lt;/strong&gt; it\</span>
<span class="s1">        &lt;/div&gt;&#39;</span>
<span class="p">});</span>
</code></pre></div>
<p>Normally, you&#39;d load the view model and template from external files instead of declaring them inline like this. We&#39;ll get to that later.</p>

<p>Now, to use this component, you can reference it from any other view in your application, either using the 
component binding or using a custom element. Here&#39;s a live example that uses it as a custom element:</p>

<div class="panel panel-default" id="component-example1">
    <div class="panel-body">
        <ul data-bind="foreach: products">
            <li class="product">
                <strong data-bind="text: name"></strong>
                <like-widget params="value: @userRating"></like-widget>
            </li>
        </ul>
    </div>
</div>
  

<script type="text/javascript">
wx.app.component('like-widget', {
    viewModel: function(params) {
        // Data: value is either null, 'like', or 'dislike'
        this.chosenValue = params.value;
         
        // Behaviors
        this.likeCmd = wx.command(function() { this.chosenValue('like'); }, this);
        this.dislikeCmd = wx.command(function() { this.chosenValue('dislike'); }, this);
    },
    template:
        '<div class="like-or-dislike" data-bind="visible: !chosenValue">\
            <button data-bind="command: likeCmd">Like it</button>\
            <button data-bind="command: dislikeCmd">Dislike it</button>\
        </div>\
        <div class="result" data-bind="visible: chosenValue">\
            You <strong data-bind="text: chosenValue"></strong> it\
        </div>'
});

function Product(name, rating) {
    this.name = name;
    this.userRating = wx.property(rating || null);
}
 
function MyViewModel() {
    this.products = [
        new Product('Garlic bread'),
        new Product('Pain au chocolat'),
        new Product('Seagull spaghetti', 'like') // This one was already 'liked'
    ];
}

wx.applyBindings(new MyViewModel(), document.getElementById('component-example1'));
</script>

<p><strong>Source code: View</strong></p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul</span> <span class="na">data-bind=</span><span class="s">&quot;foreach: products&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;product&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;strong</span> <span class="na">data-bind=</span><span class="s">&quot;text: name&quot;</span><span class="nt">&gt;&lt;/strong&gt;</span>
        <span class="nt">&lt;like-widget</span> <span class="na">params=</span><span class="s">&quot;value: @userRating&quot;</span><span class="nt">&gt;&lt;/like-widget&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div>
<p><strong>Source code: View model</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">rating</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">userRating</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="nx">rating</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">MyViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">products</span> <span class="o">=</span> <span class="p">[</span>
        <span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="s1">&#39;Garlic bread&#39;</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="s1">&#39;Pain au chocolat&#39;</span><span class="p">),</span>
        <span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="s1">&#39;Seagull spaghetti&#39;</span><span class="p">,</span> <span class="s1">&#39;like&#39;</span><span class="p">)</span> <span class="c1">// This one was already &#39;liked&#39;</span>
    <span class="p">];</span>
<span class="p">}</span>

<span class="nx">wx</span><span class="p">.</span><span class="nx">applyBindings</span><span class="p">(</span><span class="k">new</span> <span class="nx">MyViewModel</span><span class="p">());</span>
</code></pre></div>
<p>In this example, the component both displays and edits an property property called <code>userRating</code> on the <code>Product</code> view model class.</p>

<h2>Example: Loading the like/dislike widget from external files, on demand</h2>

<p>In most applications, you&#39;ll want to keep component view models and templates in external files. 
If you configure WebRx to fetch them via an AMD module loader such as <a href="http://requirejs.org/">require.js</a>, then they 
can either be preloaded (possibly bundled/minified), or incrementally loaded as needed.</p>

<p>Here&#39;s an example configuration:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">wx</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;like-or-dislike&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">viewModel</span><span class="o">:</span> <span class="p">{</span> <span class="nx">require</span><span class="o">:</span> <span class="s1">&#39;files/component-like-widget&#39;</span> <span class="p">},</span>
    <span class="nx">template</span><span class="o">:</span> <span class="p">{</span> <span class="nx">require</span><span class="o">:</span> <span class="s1">&#39;text!files/component-like-widget.html&#39;</span> <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h3>Requirements</h3>

<p>For this to work, the files <code>files/component-like-widget.js</code> and <code>files/component-like-widget.html</code>
need to exist. Check them out (and view source on the .html one) - as you&#39;ll see, this is 
cleaner and more convenient that including the code inline in the definition.</p>

<p>Also, you need to have referenced a suitable module loader library (such as require.js) or 
implemented a custom component loader that knows how to grab your files.</p>

<h3>Using the component</h3>

<p>Now like-or-dislike can be consumed in the same way as before, using either a component binding or a custom element:</p>

<p><strong>Source code: View</strong></p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul</span> <span class="na">data-bind=</span><span class="s">&quot;foreach: products&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;product&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;strong</span> <span class="na">data-bind=</span><span class="s">&quot;text: name&quot;</span><span class="nt">&gt;&lt;/strong&gt;</span>
        <span class="nt">&lt;like-or-dislike</span> <span class="na">params=</span><span class="s">&quot;value: userRating&quot;</span><span class="nt">&gt;&lt;/like-or-dislike&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;button</span> <span class="na">data-bind=</span><span class="s">&quot;click: addProduct&quot;</span><span class="nt">&gt;</span>Add a product<span class="nt">&lt;/button&gt;</span>
</code></pre></div>
<p><strong>Source code: View model</strong></p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">rating</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">userRating</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="nx">rating</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">MyViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">products</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span> <span class="c1">// Start empty</span>
<span class="p">}</span>

<span class="nx">MyViewModel</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addProduct</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;Product &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">products</span><span class="p">().</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">products</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">Product</span><span class="p">(</span><span class="nx">name</span><span class="p">));</span>
<span class="p">};</span>

<span class="nx">wx</span><span class="p">.</span><span class="nx">applyBindings</span><span class="p">(</span><span class="k">new</span> <span class="nx">MyViewModel</span><span class="p">());</span>
</code></pre></div>
<p>If you open your browser developer tools&#39; Network inspector before your first click on Add product, 
you&#39;ll see that the component&#39;s .js/.html files are fetched on demand when first required, and thereafter retained for reuse.</p>

<p><a class="next-topic" href="/docs/component-registration.html#start">Next: Defining and registering components</a></p>
</div>
		</div>
	</div>
</div>


            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 WebRxJS.org
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
        </script>

        <script type='text/javascript' src='/bundles/00130a6aa62cbbdf056682bd006294a8.js'></script>


        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
