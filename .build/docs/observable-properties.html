<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - Observable Properties</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - Observable Properties" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link rel='stylesheet' type='text/css' href='/bundles/8f454208102f7713a66ee00f7fb71046.css' />


        <script type='text/javascript' src='/bundles/69e7d74f96f61e00f6a1b760a46d312e.js'></script>


        <script type='text/javascript' src='/js/web.rx.js'></script>
      </head>
    <body>
        <h1 id="logoh1">WebRx - Observable Properties</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-inverse">
              <div class="container-fluid">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="/"><h3 class="logo"><span>WebR</span><span class="x">X</span></h3></a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="/docs/examples.html">Examples</a></li>
                    <li><a href="/docs">Documentation</a></li>

                    <li><a href="https://github.com/oliverw/WebRx"><img width="16" src="/images/GitHub-Mark-Light-32px.png"/>Source</a></li>
                   </ul>
                </div>
              </div>
            </nav>

          <style>
     .content-panel {
         padding: 15px;
     }
</style>

<div class="content-panel docs syntax-theme-monokai">
    <div class="row">
        <div class="col-md-3">
            <div class="index">
                <h3>Getting started</h3>
                <ul>
                    <li><a href="../docs/index.html#start">How WebRx works and what benefits it brings</a></li>
                </ul>

                <h3>Binding syntax</h3>
                <ul>
                    <li><a href="../docs/binding-syntax.html#start">The <i>data-bind</i> syntax</a></li>
                    <li><a href="../docs/binding-context.html#start">The binding context</a></li>
                </ul>

                <h3>Core Components</h3>
                <ul>
                    <li><a href="../docs/observable-properties.html#start">Observable Properties</a></li>
                    <li><a href="../docs/output-properties.html#start">Output Properties</a></li>
                    <li><a href="../docs/observable-lists.html#start">Observable Lists</a></li>
                    <li><a href="../docs/commands.html#start">Commands</a></li>
                </ul>

                <h3>Bindings</h3>

                <h4>Controlling text and appearance</h4>
                <ul>
                    <li><a href="../docs/visible-binding.html#start">The <i>visible</i> binding</a></li>
                    <li><a href="../docs/hidden-binding.html#start">The <i>hidden</i> binding</a></li>
                    <li><a href="../docs/text-binding.html#start">The <i>text</i> binding</a></li>
                    <li><a href="../docs/html-binding.html#start">The <i>html</i> binding</a></li>
                    <li><a href="../docs/css-binding.html#start">The <i>css</i> binding</a></li>
                    <li><a href="../docs/style-binding.html#start">The <i>style</i> binding</a></li>
                    <li><a href="../docs/attr-binding.html#start">The <i>attr</i> binding</a></li>
                </ul>

                <h4>Control flow</h4>
                <ul>
                    <li><a href="../docs/foreach-binding.html#start">The <i>foreach</i> binding</a></li>
                    <li><a href="../docs/if-binding.html#start">The <i>if</i> binding</a></li>
                    <li><a href="../docs/ifnot-binding.html#start">The <i>ifnot</i> binding</a></li>
                    <li><a href="../docs/with-binding.html#start">The <i>with</i> binding</a></li>
                </ul>

                <h4>Working with form fields</h4>
                <ul>
                    <li><a href="../docs/command-binding.html#start">The <i>command</i> binding</a></li>
                    <li><a href="../docs/event-binding.html#start">The <i>event</i> binding</a></li>
                    <li><a href="../docs/enabled-binding.html#start">The <i>enabled</i> binding</a></li>
                    <li><a href="../docs/disabled-binding.html#start">The <i>disabled</i> binding</a></li>
                    <li><a href="../docs/value-binding.html#start">The <i>value</i> binding</a></li>
                    <li><a href="../docs/textinput-binding.html#start">The <i>textInput</i> binding</a></li>
                    <li><a href="../docs/hasfocus-binding.html#start">The <i>hasFocus</i> binding</a></li>
                    <li><a href="../docs/checked-binding.html#start">The <i>checked</i> binding</a></li>
                    <li><a href="../docs/selected-value-binding.html#start">The <i>selectedValue</i> binding</a></li>
                </ul>

                <!--
                <h3>Creating custom bindings</h3>
                <ul>
                    <li><a href="../docs/custom-bindings.html#start">Creating custom bindings</a></li>
                    <li><a href="../docs/custom-bindings-controlling-descendant-bindings.html#start">Controlling descendant bindings</a></li>
                    <li><a href="../docs/custom-bindings-disposal.html#start">Custom disposal logic</a></li>
                </ul>
                -->

                <h3>Components</h3>
                <ul>
                    <li><a href="../docs/component-overview.html#start">Overview: What components and custom elements offer</a></li>
                    <li><a href="../docs/component-registration.html#start">Defining and registering components</a></li>
                    <li><a href="../docs/component-binding.html#start">The <i>component</i> binding</a></li>
                    <!-- <li><a href="../docs/component-custom-elements.html#start">Using custom elements</a></li>
                    <li><a href="../docs/component-built-in.html#start">Built-in components</a></li> -->
                </ul>

                <h3>Modules</h3>
                <ul>
                    <li><a href="../docs/module-overview.html#start">Overview: What modules offer</a></li>
                    <li><a href="../docs/module-registration.html#start">Defining and registering modules</a></li>
                    <li><a href="../docs/module-binding.html#start">The <i>module</i> binding</a></li>
                </ul>

                <h3>Routing</h3>
                <ul>
                    <li><a href="../docs/routing-overview.html#start">Overview: Routing architecture</a></li>
                    <li><a href="../docs/routing-registration.html#start">Defining and registering routing states</a></li>
                    <li><a href="../docs/view-binding.html#start">The <i>view</i> binding</a></li>
                    <li><a href="../docs/sref-binding.html#start">The <i>sref</i> binding</a></li>
                    <li><a href="../docs/sactive-binding.html#start">The <i>sactive</i> binding</a></li>
                </ul>

                <h3>Dependency-Injection</h3>
                <ul>
                    <li><a href="../docs/dependency-injection-overview.html#start">Overview: Dependency Injection</a></li>
                    <li><a href="../docs/dependency-registration.html#start">Defining and registering dependencies</a></li>
                </ul>

                <h3>Messaging</h3>
                <ul>
                    <li><a href="../docs/message-bus.html#start">Overview: Messaging</a></li>
                </ul>

                <!--
                <h3>Further techniques</h3>
                <ul>
                    <li><a href="../docs/unobtrusive-event-handling.html#start">Unobtrusive event handling</a></li>
                    <li><a href="../docs/binding-preprocessing.html#start">Extending Webrx's binding syntax</a></li>
                </ul>
                -->

                <h3>API Docs</h3>
                <ul>
                    <li><a href="../api/modules/_interfaces_.wx.html">Module <code>wx</code></a></li>
                </ul>

                <h3>More information</h3>
                <ul>
                    <li><a href="../docs/browser-support.html#start">Browser support</a></li>
                </ul>
            </div>
        </div>

        <div id="start" class="col-md-9">
            <div class="body"><h1>Observable Properties</h1>

<p>You&#39;ve seen how to <a href="/docs/index.html#topic-mvvm-intro">create a basic view model</a> and how to display one of its properties using a binding. 
But one of the key benefits of WebRx is that it updates your UI automatically when the view model changes. 
How can WebRx know when parts of your view model change? Answer: you need to declare your model properties as 
observable-properties, because these are special JavaScript objects that can notify subscribers about changes.</p>

<p>For example, rewrite the preceding view model object as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">personName</span><span class="o">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">),</span>
    <span class="nx">personAge</span><span class="o">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<p>You don&#39;t have to change the view at all - the same data-bind syntax will keep working. The difference is that it&#39;s now capable of 
detecting changes, and when it does, it will update the view automatically.</p>

<h2>Reading and writing properties</h2>

<p>To read the property&#39;s current value, just call the property with no parameters. In this example, <code>myViewModel.personName()</code> 
will return &#39;Bob&#39;, and <code>myViewModel.personAge()</code> will return 123.</p>

<p>To write a new value to the property, call the property and pass the new value as a parameter. For example, 
calling <code>myViewModel.personName(&#39;Mary&#39;)</code> will change the name value to &#39;Mary&#39;.</p>

<p>The whole point of observable properties is that they can be observed, i.e., other code can say that it wants to 
be notified of changes. That&#39;s what many of WebRx&#39;s built-in bindings do internally. So, when you wrote 
<code>data-bind=&quot;text: personName&quot;</code>, the text binding registered itself to be notified when <code>personName</code>
changes (assuming it&#39;s an observable property, which it is now).</p>

<p>When you change the name value to &#39;Mary&#39; by calling <code>myViewModel.personName(&#39;Mary&#39;)</code>, the text binding 
will automatically update the text contents of the associated DOM element. That&#39;s how changes to the view model 
automatically propagate to the view.</p>

<h2>Observable Properties and Binding Expressions</h2>

<p>The syntax for referencing observable-property-values in <a href="/docs/binding-syntax.html#start">binding-expressions</a> is identical to non observable-properties.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: personName&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<p>This view template will work without modifications for both of these view-models ...</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">personName</span><span class="o">:</span> <span class="s1">&#39;Bob&#39;</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">personName</span><span class="o">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<h3>Working with observable-property values</h3>

<p>As outlined above, you invoke an observable property as a function with no arguments to read its current value. </p>

<p>This is <strong>unnecessary</strong> within binding-expressions, because behind the scenes, WebRx&#39;s expression compiler 
will <strong>detect</strong> that use-case and will conveniently <strong>dereference the property&#39;s value for you</strong>. </p>

<p>In fact you are not even allowed to explicitely dereference a property in a binding expression, 
because this would involve a function invocation which is prohibited by WebRx&#39;s 
<a href="/docs/binding-syntax.html#start">binding syntax</a> specification. A rule that gets enforced by the expression compiler.</p>

<h4>Good</h4>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: personName + &#39;foo&#39;&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<h4>Bad</h4>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: personName() + &#39;foo&#39;&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<h3><a id="topic-propref"></a>Property-Object-References or @proprefs</h3>

<p>Sometimes when working with certain bindings you don&#39;t want the aforementioned automatic deferencing to happen, because 
the binding requires a reference to the property object itself instead of its current value. </p>

<p>This is the case with basically all two-way bindings which need to update the property&#39;s value when reacting to view-changes.</p>

<h4>Example</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">personName</span><span class="o">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">data-bind=</span><span class="s">&quot;textInput: @personName&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<p>The <a href="/docs/textinput-binding.html#start">textInput-Binding</a> links a text box or textarea with a viewmodel property, 
providing two-way updates between the viewmodel property and the element&#39;s value.</p>

<p>Without the <code>@</code> operator in the template above, the textInput binding would receive the current value of
the <code>personName</code> property which would be <code>&#39;Bob&#39;</code>. Since <code>&#39;Bob&#39;</code> is not an observable property, the binding
would update the textbox&#39;s or textarea&#39;s value a single time, but would not be able to update the
view-model when the user enters text. Effectively turning the textInput binding into a text-binding
which is not really useful.</p>

<h2>Explicitly subscribing to observable-property changes</h2>

<p>If you want to register your own subscriptions to be notified of changes to properties, all observable-properties expose two <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a>:</p>

<ul>
<li><code>changing</code> notifies of changes of the property&#39;s value before the change</li>
<li><code>changed</code> notifies of changes of the property&#39;s value after the change</li>
</ul>

<p>If for example you would want to monitor changes to the <code>personName</code> property, you would do it like this: </p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">myViewModel</span><span class="p">.</span><span class="nx">personName</span><span class="p">.</span><span class="nx">changed</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;The person&#39;s new name is &quot;</span> <span class="o">+</span> <span class="nx">newValue</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also terminate a subscription if you wish: first capture the return value as a variable, then you can call its dispose function, e.g.:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">myViewModel</span><span class="p">.</span><span class="nx">personName</span><span class="p">.</span><span class="nx">changed</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">});</span>
<span class="c1">// ...then later...</span>
<span class="nx">subscription</span><span class="p">.</span><span class="nx">dispose</span><span class="p">();</span> <span class="c1">// I no longer want notifications</span>
</code></pre></div>
<p><a class="next-topic" href="/docs/output-properties.html#start">Next: Output-Properties</a></p>
</div>
        </div>
    </div>
</div>


            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 WebRxJS.org
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
        </script>

        <script type='text/javascript' src='/bundles/00130a6aa62cbbdf056682bd006294a8.js'></script>


        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
