<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>WebRx - Observable Properties</title>

    <meta property="og:type" content="website" />
    <meta property="og:title" content="WebRx - Observable Properties" />
    <meta property="og:site_name" content="WebRx" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lato|Raleway" /> 
        
    <link rel='stylesheet' type='text/css' href='/bundles/1e24c3a4de366c5bce533f98c62988ce.css' />
 
    
    <script type='text/javascript' src='/bundles/8bd7095abad18365d4da3020203ccfb2.js'></script>


    <link rel="stylesheet" type="text/css" href="/css/main.css" />
</head>

<body class="top-navigation skin-1">
    <div id="wrapper">
        <div id="page-wrapper" class="gray-bg dashbard-1">
            <div class="row border-bottom">
                <nav class="navbar navbar-static-top" role="navigation">
                    <div class="navbar-header">
                    <a class="main-logo hvr-pop" style="color: #303030;" href="/"><span class="logo-icon"></span><span>WebRx</span></a>
                        <button id="hamburger-menu" aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed"
                        type="button">
                            <span class="glyphicon glyphicon-menu-hamburger"></span>
                        </button>
                    </div>

                    <div class="navbar-collapse collapse" id="navbar" aria-expanded="false">
                        <ul class="nav navbar-nav">
                        </ul>

                        <ul class="nav navbar-nav navbar-top-links navbar-right">
                            <li><a href="/examples">Examples</a></li>
                            <li><a href="/docs/getting-started.html">Documentation</a></li>

                            <li><a href="https://github.com/WebRxJS/WebRx"><i class="fa fa-github"></i> Source</a></li>
                            <li id="news"><a target="_blank" href="https://twitter.com/webrxjs"><i class="fa fa-twitter"></i> News</a></li>
                        </ul>
                </div>
                </nav>
            </div>

            <div class="row body-wrapper border-bottom white-bg dashboard-header">
                <div class="col-lg-12">
                    <div class="wrapper wrapper-content">
                        <style>
     .content-panel {
         padding: 15px;
     }
</style>

<div class="content-panel docs syntax-theme-grey">
    <div class="row">
        <div class="col-md-3">
            <div id="doc-index" class="index">
                <h3>Getting started</h3>
                <ul>
                    <li><a href="../docs/getting-started.html">Getting Started</a></li>
                    <li><a href="../docs/index.html">Introduction</a></li>
                </ul>

                <h3>Binding syntax</h3>
                <ul>
                    <li><a href="../docs/binding-syntax.html">The data-bind syntax</a></li>
                    <li><a href="../docs/binding-context.html">The binding context</a></li>
                </ul>

                <h3>Building Blocks</h3>
                <ul>
                    <li><a href="../docs/observable-properties.html">Observable Properties</a></li>
                    <li><a href="../docs/output-properties.html">Output Properties</a></li>
                    <li><a href="../docs/observable-lists.html">Observable Lists</a></li>
                    <li><a href="../docs/commands.html">Commands</a></li>
                </ul>

                <h3>Bindings</h3>

                <h4>Controlling text and appearance</h4>
                <ul>
                    <li><a href="../docs/visible-binding.html">The visible binding</a></li>
                    <li><a href="../docs/hidden-binding.html">The hidden binding</a></li>
                    <li><a href="../docs/text-binding.html">The text binding</a></li>
                    <li><a href="../docs/html-binding.html">The html binding</a></li>
                    <li><a href="../docs/css-binding.html">The css binding</a></li>
                    <li><a href="../docs/style-binding.html">The style binding</a></li>
                    <li><a href="../docs/attr-binding.html">The attr binding</a></li>
                </ul>

                <h4>Control flow</h4>
                <ul>
                    <li><a href="../docs/foreach-binding.html">The foreach binding</a></li>
                    <li><a href="../docs/if-binding.html">The if binding</a></li>
                    <li><a href="../docs/ifnot-binding.html">The ifnot binding</a></li>
                    <li><a href="../docs/with-binding.html">The with binding</a></li>
                </ul>

                <h4>Working with form fields</h4>
                <ul>
                    <li><a href="../docs/command-binding.html">The command binding</a></li>
                    <li><a href="../docs/keyPress-binding.html">The keyPress binding</a></li>
                    <li><a href="../docs/event-binding.html">The event binding</a></li>
                    <li><a href="../docs/enabled-binding.html">The enabled binding</a></li>
                    <li><a href="../docs/disabled-binding.html">The disabled binding</a></li>
                    <li><a href="../docs/value-binding.html">The value binding</a></li>
                    <li><a href="../docs/textinput-binding.html">The textInput binding</a></li>
                    <li><a href="../docs/hasfocus-binding.html">The hasFocus binding</a></li>
                    <li><a href="../docs/checked-binding.html">The checked binding</a></li>
                    <li><a href="../docs/selected-value-binding.html">The selectedValue binding</a></li>
                </ul>

                <h3>Custom bindings</h3>
                <ul>
                    <li><a href="../docs/custom-bindings.html">Creating custom bindings</a></li>
                </ul>

                <h3>Components</h3>
                <ul>
                    <li><a href="../docs/component-overview.html">Overview: What components and custom elements offer</a></li>
                    <li><a href="../docs/component-registration.html">Defining and registering components</a></li>
                    <li><a href="../docs/component-binding.html">The component binding</a></li>
                    <!-- <li><a href="../docs/component-custom-elements.html">Using custom elements</a></li>
                    <li><a href="../docs/component-built-in.html">Built-in components</a></li> -->
                </ul>

                <h3>Modules</h3>
                <ul>
                    <li><a href="../docs/module-overview.html">Overview: What modules offer</a></li>
                    <li><a href="../docs/module-registration.html">Defining and registering modules</a></li>
                    <li><a href="../docs/module-binding.html">The module binding</a></li>
                </ul>

                <h3>Routing</h3>
                <ul>
                    <li><a href="../docs/routing-overview.html">Overview: Routing architecture</a></li>
                    <li><a href="../docs/routing-registration.html">Defining and registering routing states</a></li>
                    <li><a href="../docs/view-binding.html">The view binding</a></li>
                    <li><a href="../docs/sref-binding.html">The sref binding</a></li>
                    <li><a href="../docs/sactive-binding.html">The sactive binding</a></li>
                </ul>

                <h3>Dependency-Injection</h3>
                <ul>
                    <li><a href="../docs/dependency-injection-overview.html">Overview: Dependency Injection</a></li>
                    <li><a href="../docs/dependency-registration.html">Defining and registering dependencies</a></li>
                </ul>

                <h3>Messaging</h3>
                <ul>
                    <li><a href="../docs/message-bus.html">Overview: Messaging</a></li>
                </ul>

                <!--
                <h3>Further techniques</h3>
                <ul>
                    <li><a href="../docs/unobtrusive-event-handling.html">Unobtrusive event handling</a></li>
                    <li><a href="../docs/binding-preprocessing.html">Extending Webrx's binding syntax</a></li>
                </ul>
                -->

                <h3>API Docs</h3>
                <ul>
                    <li><a href="../api/modules/_interfaces_.wx.html">Module wx</a></li>
                </ul>

                <h3>More information</h3>
                <ul>
                    <li><a href="../docs/browser-support.html">Browser support</a></li>
                </ul>
            </div>
        </div>

        <div id="start" class="col-md-9">
            <div class="body"><h1>Observable Properties</h1>

<p>You&#39;ve seen how to <a href="/docs/index.html#topic-mvvm-intro">create a basic view model</a> and how to display one of its properties using a binding. 
But one of the key benefits of WebRx is that it updates your UI automatically when the view model changes. 
How can WebRx know when parts of your view model change? Answer: you need to declare your model properties as 
observable-properties, because these are special JavaScript objects that can notify subscribers about changes.</p>

<p>For example, rewrite the preceding view model object as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">personName</span><span class="p">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">),</span>
    <span class="na">personAge</span><span class="p">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<p>You don&#39;t have to change the view at all - the same data-bind syntax will keep working. The difference is that it&#39;s now capable of 
detecting changes, and when it does, it will update the view automatically.</p>

<h2>Reading and writing properties</h2>

<p>To read the property&#39;s current value, just call the property with no parameters. In this example, <code>myViewModel.personName()</code> 
will return &#39;Bob&#39;, and <code>myViewModel.personAge()</code> will return 123.</p>

<p>To write a new value to the property, call the property and pass the new value as a parameter. For example, 
calling <code>myViewModel.personName(&#39;Mary&#39;)</code> will change the name value to &#39;Mary&#39;.</p>

<p>The whole point of observable properties is that they can be observed, i.e., other code can say that it wants to 
be notified of changes. That&#39;s what many of WebRx&#39;s built-in bindings do internally. So, when you wrote 
<code>data-bind=&quot;text: personName&quot;</code>, the text binding registered itself to be notified when <code>personName</code>
changes (assuming it&#39;s an observable property, which it is now).</p>

<p>When you change the name value to &#39;Mary&#39; by calling <code>myViewModel.personName(&#39;Mary&#39;)</code>, the text binding 
will automatically update the text contents of the associated DOM element. That&#39;s how changes to the view model 
automatically propagate to the view.</p>

<h2>Observable Properties and Binding Expressions</h2>

<p>The syntax for referencing observable-property-values in <a href="/docs/binding-syntax.html">binding-expressions</a> is identical to non observable-properties.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">"text: personName"</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<p>This view template will work without modifications for both of these view-models ...</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">personName</span><span class="p">:</span> <span class="s1">'Bob'</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">personName</span><span class="p">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<h3>Working with observable-property values</h3>

<p>As outlined above, you invoke an observable property as a function with no arguments to read its current value. </p>

<p>This is <strong>unnecessary</strong> within binding-expressions, because behind the scenes, WebRx&#39;s expression compiler 
will <strong>detect</strong> that use-case and will conveniently <strong>dereference the property&#39;s value for you</strong>. </p>

<h4>Good</h4>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">"text: personName + 'foo'"</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<h4>Bad</h4>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">"text: personName() + 'foo'"</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<h3><a id="topic-propref"></a>Property-Object-References or @proprefs</h3>

<p>Sometimes when working with certain bindings you don&#39;t want the aforementioned automatic deferencing to happen, because 
the binding requires a reference to the property object itself instead of its current value. </p>

<p>This is the case with basically all two-way bindings which need to update the property&#39;s value when reacting to view-changes.</p>

<h4>Example</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">personName</span><span class="p">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">data-bind=</span><span class="s">"textInput: @personName"</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<p>The <a href="/docs/textinput-binding.html">textInput-Binding</a> links a text box or textarea with a viewmodel property, 
providing two-way updates between the viewmodel property and the element&#39;s value.</p>

<p>Without the <code>@</code> operator in the template above, the textInput binding would receive the current value of
the <code>personName</code> property which would be <code>&#39;Bob&#39;</code>. Since <code>&#39;Bob&#39;</code> is not an observable property, the binding
would update the textbox&#39;s or textarea&#39;s value a single time, but would not be able to update the
view-model when the user enters text. Effectively turning the textInput binding into a text-binding
which is not really useful.</p>

<h2>Explicitly subscribing to observable-property changes</h2>

<p>If you want to register your own subscriptions to be notified of changes to properties, all observable-properties expose two <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a>:</p>

<ul>
<li><code>changing</code> notifies of changes of the property&#39;s value before the change</li>
<li><code>changed</code> notifies of changes of the property&#39;s value after the change</li>
</ul>

<p>If for example you would want to monitor changes to the <code>personName</code> property, you would do it like this: </p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">myViewModel</span><span class="p">.</span><span class="nx">personName</span><span class="p">.</span><span class="nx">changed</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"The person's new name is "</span> <span class="o">+</span> <span class="nx">newValue</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also terminate a subscription if you wish: first capture the return value as a variable, then you can call its dispose function, e.g.:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">myViewModel</span><span class="p">.</span><span class="nx">personName</span><span class="p">.</span><span class="nx">changed</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">});</span>
<span class="c1">// ...then later...</span>
<span class="nx">subscription</span><span class="p">.</span><span class="nx">dispose</span><span class="p">();</span> <span class="c1">// I no longer want notifications</span>
</code></pre></div>
<p><a class="next-topic" href="/docs/output-properties.html">Next: Output-Properties</a></p>
</div>
        </div>
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row upper-section">
                <div class="col-xs-12 col-sm-4 col-md-3">
                    Copyright (c) 2015 WebRxJS.org
                </div>
            </div>
        </div>
    </footer>

    </div>

    <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
    </script>

    <script type='text/javascript' src='/bundles/b90b1a7edb0dd2e1eeef510a60864172.js'></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
    </script>
</body>

</html>