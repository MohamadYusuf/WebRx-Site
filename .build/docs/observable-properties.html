<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - Observable Properties</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - Observable Properties" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="/assets/bootstrap.min-3520b776381e47b725a3a6351274dc3d.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/assets/syntax-f61aeb2ae597ff94fa8f31ce7ca5ceef.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/assets/main-fb601f384a3a41acb24c31bc3e246f72.css">


        <script src="/assets/rx.lite.min-056ca58d2385c8db19b643e4dd92b1f2.js"></script>
        <script src="/assets/rx.lite.extras.min-9dc421df46cc2751004ed5d6686e321c.js"></script>
        <script src="/assets/web.rx-c34b5ae7069e7a8b70fec7b9c89a954d.js"></script>
      </head>
    <body>
        <h1 id="logoh1">WebRx - Observable Properties</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-inverse">
              <div class="container-fluid">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="/"><img alt="Brand" src="/images/logo.png"></a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="/docs">Documentation</a></li>
                    <li><a href="https://github.com/oliverw/WebRx"><img width="16" src="/images/GitHub-Mark-Light-32px.png"/>Source</a></li>
                    <li><a href="http://twitter.com/intent/tweet?url=http://webrxjs.org&text=WebRx - Dynamic JavaScript UIs with ReactiveX&via=oliverweichhold" target="_blank"><img width="16" src="/images/Twitter_logo_white.png"/>Tweet</a></li>
                   </ul>
                </div>
              </div>
            </nav>

          <div class="content-panel docs">
	<div class="row">
		<div class="col-md-3">
			<div class="index">
				<h3>Getting started</h3>
				<ul>
				    <li><a href="../docs/index.html#start">How WebRx works and what benefits it brings</a></li>
				</ul>

				<h3>Binding syntax</h3>
				<ul>
				    <li><a href="../docs/binding-syntax.html#start">The <code>data-bind</code> syntax</a></li>
				    <li><a href="../docs/binding-context.html#start">The binding context</a></li>
				</ul>

				<h3>Observables</h3>
				<ul>
				    <li><a href="../docs/observable-properties.html#start">Creating view models with observable properties</a></li>
				    <li><a href="../docs/computed-observable-properties.html#start">Computed observable properties</a></li>
				    <li><a href="../docs/observable-lists.html#start">Working with observable lists</a></li>	
				</ul>

				<h3>Bindings</h3>

				<h4>Controlling text and appearance</h4>
				<ul>
				    <li><a href="../docs/visible-binding.html#start">The <code>visible</code> binding</a></li>
				    <li><a href="../docs/hidden-binding.html#start">The <code>hidden</code> binding</a></li>
				    <li><a href="../docs/text-binding.html#start">The <code>text</code> binding</a></li>
				    <li><a href="../docs/html-binding.html#start">The <code>html</code> binding</a></li>
				    <li><a href="../docs/css-binding.html#start">The <code>css</code> binding</a></li>
				    <li><a href="../docs/style-binding.html#start">The <code>style</code> binding</a></li>
				    <li><a href="../docs/attr-binding.html#start">The <code>attr</code> binding</a></li>
				</ul>

				<h4>Control flow</h4>
				<ul>
				    <li><a href="../docs/foreach-binding.html#start">The <code>foreach</code> binding</a></li>
				    <li><a href="../docs/if-binding.html#start">The <code>if</code> binding</a></li>
				    <li><a href="../docs/ifnot-binding.html#start">The <code>ifnot</code> binding</a></li>
				    <li><a href="../docs/with-binding.html#start">The <code>with</code> binding</a></li>
				    <li><a href="../docs/module-binding.html#start">The <code>module</code> binding</a></li>
				    <li><a href="../docs/component-binding.html#start">The <code>component</code> binding</a></li>
				</ul>

				<h4>Working with form fields</h4>
				<ul>
				    <li><a href="../docs/command-binding.html#start">The <code>command</code> binding</a></li>
				    <li><a href="../docs/event-binding.html#start">The <code>event</code> binding</a></li>
				    <li><a href="../docs/enabled-binding.html#start">The <code>enabled</code> binding</a></li>
				    <li><a href="../docs/disabled-binding.html#start">The <code>disabled</code> binding</a></li>
				    <li><a href="../docs/value-binding.html#start">The <code>value</code> binding</a></li>
				    <li><a href="../docs/textinput-binding.html#start">The <code>textInput</code> binding</a></li>
				    <li><a href="../docs/hasfocus-binding.html#start">The <code>hasFocus</code> binding</a></li>
				    <li><a href="../docs/checked-binding.html#start">The <code>checked</code> binding</a></li>
				    <li><a href="../docs/selectedValue-binding.html#start">The <code>selectedValue</code> binding</a></li>    
				</ul>

				<h3>Creating custom bindings</h3>
				<ul>
				    <li><a href="../docs/custom-bindings.html#start">Creating custom bindings</a></li>
				    <li><a href="../docs/custom-bindings-controlling-descendant-bindings.html#start">Controlling descendant bindings</a></li>
				    <li><a href="../docs/custom-bindings-disposal.html#start">Custom disposal logic</a></li>
				</ul>

				<h3>Components</h3>
				<ul>
				    <li><a href="../docs/component-overview.html#start">Overview: What <em>components</em> and <em>custom elements</em> offer</a></li>
				    <li><a href="../docs/component-registration.html#start">Defining and registering components</a></li>
				    <li><a href="../docs/component-binding.html#start">The <code>component</code> binding</a></li>
				    <li><a href="../docs/component-custom-elements.html#start">Using custom elements</a></li>
				    <li><a href="../docs/component-built-in.html#start">Built-in components</a></li>
				</ul>

				<h3>Modules</h3>
				<ul>
				    <li><a href="../docs/module-overview.html#start">Overview: What <em>modules</em> offer</a></li>
				    <li><a href="../docs/module-registration.html#start">Defining and registering modules</a></li>
				    <li><a href="../docs/module-binding.html#start">The <code>module</code> binding</a></li>
				</ul>

				<h3>Routing</h3>
				<ul>
				    <li><a href="../docs/module-overview.html#start">Overview: Routing architecture</a></li>
				    <li><a href="../docs/module-registration.html#start">Defining and registering routing states</a></li>
				    <li><a href="../docs/view-binding.html#start">The <code>view</code> binding</a></li>
				    <li><a href="../docs/sref-binding.html#start">The <code>sref</code> binding</a></li>
				</ul>

				<h3>Further techniques</h3>
				<ul>
				    <li><a href="../docs/unobtrusive-event-handling.html#start">Unobtrusive event handling</a></li>
				    <li><a href="../docs/binding-preprocessing.html#start">Extending Webrx's binding syntax</a></li>
				</ul>

				<h3>More information</h3>
				<ul>
				    <li><a href="../docs/browser-support.html#start">Browser support</a></li>
				</ul>
			</div>
		</div>

		<div id="start" class="col-md-9">
			<div class="body"><h2>Observable Properties</h2>

<p>WebRx is built around three core features:</p>

<ul>
<li>Rx Observables and Observable Properties</li>
<li>Declarative bindings</li>
<li>Templating</li>
</ul>

<p>On this page, you’ll learn about the first of these three. But before that, let’s examine the MVVM pattern and the concept of a view model.</p>

<h3>MVVM and View Models</h3>

<p>Model-View-View Model (MVVM) is a design pattern for building user interfaces. It describes how you can keep a potentially sophisticated UI simple by splitting it into three parts:</p>

<ul>
<li><strong>A model:</strong> your application’s stored data. This data represents objects and operations in your business domain (e.g., bank accounts that can perform money transfers) and is independent of any UI. When using WebRx, you will usually make Ajax calls to some server-side code to read and write this stored model data.</li>
<li><strong>A view model:</strong> a pure-code representation of the data and operations on a UI. For example, if you’re implementing a list editor, your view model would be an object holding a list of items, and exposing methods to add and remove items.
Note that this is not the UI itself: it doesn’t have any concept of buttons or display styles. It’s not the persisted data model either - it holds the unsaved data the user is working with. When using WebRx, your view models are pure JavaScript objects that hold no knowledge of HTML. Keeping the view model abstract in this way lets it stay simple, so you can manage more sophisticated behaviors without getting lost.</li>
<li><strong>A view:</strong> a visible, interactive UI representing the state of the view model. It displays information from the view model, sends commands to the view model (e.g., when the user clicks buttons), and updates whenever the state of the view model changes.</li>
</ul>

<p>When using WebRx, your view is simply your HTML document with declarative bindings to link it to the view model. Alternatively, you can use templates that generate HTML using data from your view model.</p>

<p>To create a view model with WebRx, just declare any JavaScript object. For example,</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">personName</span><span class="o">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span>
    <span class="nx">personAge</span><span class="o">:</span> <span class="mi">123</span>
<span class="p">};</span>
</code></pre></div>
<p>You can then create a very simple view of this view model using a declarative binding. For example, the following markup displays the personName value:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: personName&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
</code></pre></div>
<h3>Activating WebRx</h3>

<p>The data-bind attribute isn’t native to HTML, though it is perfectly OK (it’s strictly compliant in HTML 5, and causes no problems with HTML 4 even though a validator will point out that it’s an unrecognized attribute). But since the browser doesn’t know what it means, you need to activate WebRx to make it take effect.</p>

<p>To activate WebRx, add the following line to a script block:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">wx</span><span class="p">.</span><span class="nx">applyBindings</span><span class="p">(</span><span class="nx">myViewModel</span><span class="p">);</span>
</code></pre></div>
<p>You can either put the script block at the bottom of your HTML document, or you can put it at the top and wrap the contents in a DOM-ready handler such as jQuery’s $ function.</p>

<p>That does it! Now, your view will display as if you’d written the following HTML:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">The name is <span class="nt">&lt;span&gt;</span>Bob<span class="nt">&lt;/span&gt;</span>
</code></pre></div>
<p>In case you’re wondering what the parameters to wx.applyBindings do,</p>

<ul>
<li>The first parameter says what view model object you want to use with the declarative bindings it activates.</li>
<li>Optionally, you can pass a second parameter which defines which part of the document you want to search for data-bind attributes. For example, wx.applyBindings(myViewModel, document.getElementById(&#39;someElementId&#39;)). This restricts the activation to the element with ID someElementId and its descendants, which is useful if you want to have multiple view models and associate each with a different region of the page.</li>
</ul>

<p>Pretty simple, really.</p>

<h3>Observable Properties</h3>

<p>OK, you’ve seen how to create a basic view model and how to display one of its properties using a binding. But one of the key benefits of WebRx is that it updates your UI automatically when the view model changes. How can WebRx know when parts of your view model change? Answer: you need to declare your model properties as observable-properties, because these are special JavaScript objects that can notify subscribers about changes.</p>

<p>For example, rewrite the preceding view model object as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myViewModel</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">personName</span><span class="o">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">),</span>
    <span class="nx">personAge</span><span class="o">:</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="p">};</span>
</code></pre></div>
<p>You don’t have to change the view at all - the same data-bind syntax will keep working. The difference is that it’s now capable of detecting changes, and when it does, it will update the view automatically.</p>

<h3>Reading and writing properties</h3>

<p>To read the property’s current value, just call the property with no parameters. In this example, myViewModel.personName() will return &#39;Bob&#39;, and myViewModel.personAge() will return 123.</p>

<p>To write a new value to the property, call the property and pass the new value as a parameter. For example, calling myViewModel.personName(&#39;Mary&#39;) will change the name value to &#39;Mary&#39;.</p>

<p>The whole point of observable properties is that they can be observed, i.e., other code can say that it wants to be notified of changes. That’s what many of WebRx’s built-in bindings do internally. So, when you wrote data-bind=&quot;text: personName&quot;, the text binding registered itself to be notified when personName changes (assuming it’s an observable property, which it is now).</p>

<p>When you change the name value to &#39;Mary&#39; by calling myViewModel.personName(&#39;Mary&#39;), the text binding will automatically update the text contents of the associated DOM element. That’s how changes to the view model automatically propagate to the view.</p>

<h3>Explicitly subscribing to observable-property changes</h3>

<p>If you want to register your own subscriptions to be notified of changes to properties, all observable-properties expose two <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md">Rx-Observables</a>:</p>

<ul>
<li><em>changing</em> notifies of changes of the property&#39;s value before the change</li>
<li><em>changed</em> notifies of changes of the property&#39;s value after the change</li>
</ul>

<p>If for example you would want to monitor changes to the <em>personName</em> property, you would do it like this: </p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">myViewModel</span><span class="p">.</span><span class="nx">personName</span><span class="p">.</span><span class="nx">changed</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;The person&#39;s new name is &quot;</span> <span class="o">+</span> <span class="nx">newValue</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also terminate a subscription if you wish: first capture the return value as a variable, then you can call its dispose function, e.g.:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">myViewModel</span><span class="p">.</span><span class="nx">personName</span><span class="p">.</span><span class="nx">changed</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">});</span>
<span class="c1">// ...then later...</span>
<span class="nx">subscription</span><span class="p">.</span><span class="nx">dispose</span><span class="p">();</span> <span class="c1">// I no longer want notifications</span>
</code></pre></div></div>
		</div>
	</div>
</div>


            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 Oliver Weichhold
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script src="/assets/jquery-41f60d5fa84e6e8d7b40f632e0568b79.js"></script>
        <script src="/assets/bootstrap.min-26a3cccafd748b47ae34e937d84db91b.js"></script>
        <script src="/assets/default-4cb5236e97f07af4a0db9e6d24b26e89.js"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
