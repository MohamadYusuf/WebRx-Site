<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - The Command-Binding</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - The Command-Binding" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link rel='stylesheet' type='text/css' href='/bundles/238466c7d96d7d69eb33e9c32ceae39e.css' />


        <script type='text/javascript' src='/bundles/69e7d74f96f61e00f6a1b760a46d312e.js'></script>


        <script type='text/javascript' src='/js/web.rx.js'></script>
      </head>
    <body>
        <h1 id="logoh1">WebRx - The Command-Binding</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-inverse">
              <div class="container-fluid">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="/"><h3 class="logo"><span>WebR</span><span class="x">X</span></h3></a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="/docs">Documentation</a></li>
                    <!-- <li><a href="/examples">Examples</a></li> -->

                    <li><a href="https://github.com/oliverw/WebRx"><img width="16" src="/images/GitHub-Mark-Light-32px.png"/>Source</a></li>
                    <li><a href="http://twitter.com/intent/tweet?url=http://webrxjs.org&text=WebRx - Dynamic JavaScript UIs with ReactiveX&via=oliverweichhold" target="_blank"><img width="16" src="/images/Twitter_logo_white.png"/>Tweet</a></li>
                   </ul>
                </div>
              </div>
            </nav>

          <style>
  .content-panel {
    padding: 15px;
  }   
</style>

<div class="content-panel docs">
	<div class="row">
		<div class="col-md-3">
			<div class="index">
				<h3>Getting started</h3>
				<ul>
				    <li><a href="../docs/index.html#start">How WebRx works and what benefits it brings</a></li>
				</ul>

				<h3>Binding syntax</h3>
				<ul>
				    <li><a href="../docs/binding-syntax.html#start">The <i>data-bind</i> syntax</a></li>
				    <li><a href="../docs/binding-context.html#start">The binding context</a></li>
				</ul>

				<h3>Core Components</h3>
				<ul>
				    <li><a href="../docs/observable-properties.html#start">Observable Properties</a></li>
				    <li><a href="../docs/output-properties.html#start">Output Properties</a></li>
				    <li><a href="../docs/observable-lists.html#start">Observable Lists</a></li>	
                    <li><a href="../docs/commands.html#start">Commands</a></li>
				</ul>

				<h3>Bindings</h3>

				<h4>Controlling text and appearance</h4>
				<ul>
				    <li><a href="../docs/visible-binding.html#start">The <i>visible</i> binding</a></li>
				    <li><a href="../docs/hidden-binding.html#start">The <i>hidden</i> binding</a></li>
				    <li><a href="../docs/text-binding.html#start">The <i>text</i> binding</a></li>
				    <li><a href="../docs/html-binding.html#start">The <i>html</i> binding</a></li>
				    <li><a href="../docs/css-binding.html#start">The <i>css</i> binding</a></li>
				    <li><a href="../docs/style-binding.html#start">The <i>style</i> binding</a></li>
				    <li><a href="../docs/attr-binding.html#start">The <i>attr</i> binding</a></li>
				</ul>

				<h4>Control flow</h4>
				<ul>
				    <li><a href="../docs/foreach-binding.html#start">The <i>foreach</i> binding</a></li>
				    <li><a href="../docs/if-binding.html#start">The <i>if</i> binding</a></li>
				    <li><a href="../docs/ifnot-binding.html#start">The <i>ifnot</i> binding</a></li>
				    <li><a href="../docs/with-binding.html#start">The <i>with</i> binding</a></li>
				</ul>

				<h4>Working with form fields</h4>
				<ul>
				    <li><a href="../docs/command-binding.html#start">The <i>command</i> binding</a></li>
				    <li><a href="../docs/event-binding.html#start">The <i>event</i> binding</a></li>
				    <li><a href="../docs/enabled-binding.html#start">The <i>enabled</i> binding</a></li>
				    <li><a href="../docs/disabled-binding.html#start">The <i>disabled</i> binding</a></li>
				    <li><a href="../docs/value-binding.html#start">The <i>value</i> binding</a></li>
				    <li><a href="../docs/textinput-binding.html#start">The <i>textInput</i> binding</a></li>
				    <li><a href="../docs/hasfocus-binding.html#start">The <i>hasFocus</i> binding</a></li>
				    <li><a href="../docs/checked-binding.html#start">The <i>checked</i> binding</a></li>
				    <li><a href="../docs/selected-value-binding.html#start">The <i>selectedValue</i> binding</a></li>    
				</ul>
			
                <!--
				<h3>Creating custom bindings</h3>
				<ul>
				    <li><a href="../docs/custom-bindings.html#start">Creating custom bindings</a></li>
				    <li><a href="../docs/custom-bindings-controlling-descendant-bindings.html#start">Controlling descendant bindings</a></li>
				    <li><a href="../docs/custom-bindings-disposal.html#start">Custom disposal logic</a></li>
				</ul>
                -->
			    
                <h3>Components</h3>
				<ul>
				    <li><a href="../docs/component-overview.html#start">Overview: What components and custom elements offer</a></li>
				    <li><a href="../docs/component-registration.html#start">Defining and registering components</a></li>
				    <li><a href="../docs/component-binding.html#start">The <i>component</i> binding</a></li>
				    <!-- <li><a href="../docs/component-custom-elements.html#start">Using custom elements</a></li> 
				    <li><a href="../docs/component-built-in.html#start">Built-in components</a></li> -->
				</ul>

				<h3>Modules</h3>
				<ul>
				    <li><a href="../docs/module-overview.html#start">Overview: What modules offer</a></li>
				    <li><a href="../docs/module-registration.html#start">Defining and registering modules</a></li>
				    <li><a href="../docs/module-binding.html#start">The <i>module</i> binding</a></li>
				</ul>

				<h3>Routing</h3>
				<ul>
				    <li><a href="../docs/routing-overview.html#start">Overview: Routing architecture</a></li>
				    <li><a href="../docs/routing-registration.html#start">Defining and registering routing states</a></li>
				    <li><a href="../docs/view-binding.html#start">The <i>view</i> binding</a></li>
				    <li><a href="../docs/sref-binding.html#start">The <i>sref</i> binding</a></li>
                    <li><a href="../docs/sactive-binding.html#start">The <i>sactive</i> binding</a></li>
				</ul>

                <h3>Dependency-Injection</h3>
                <ul>
                    <li><a href="../docs/dependency-injection-overview.html#start">Overview: Dependency Injection</a></li>
                    <li><a href="../docs/dependency-registration.html#start">Defining and registering dependencies</a></li>
                </ul>

                <h3>Messaging</h3>
                <ul>
                    <li><a href="../docs/message-bus.html#start">Overview: Messaging</a></li>
                </ul>

			    <!--
				<h3>Further techniques</h3>
				<ul>
				    <li><a href="../docs/unobtrusive-event-handling.html#start">Unobtrusive event handling</a></li>
				    <li><a href="../docs/binding-preprocessing.html#start">Extending Webrx's binding syntax</a></li>
				</ul>
                -->

				<h3>More information</h3>
				<ul>
				    <li><a href="../docs/browser-support.html#start">Browser support</a></li>
				</ul>
			</div>
		</div>

		<div id="start" class="col-md-9">
			<div class=""><div class="alert alert-danger sample-warning" role="alert">
<b>Note:</b> You are viewing this page using an <a href="/docs/browser-support.html#start">unsupported browser</a>. The interactive samples will most likely not work correctly. 
</div>

<h1>The Command-Binding</h1>

<p>The command-binding adds an event handler so that a <a href="/docs/commands.html#start">command</a> will be invoked when the 
associated DOM element is clicked and additionally takes care of enabling and disabling the element
depending on wether the command can currently execute or not.</p>

<p>This binding is most commonly used with elements like button and anchors, but actually works with any visible DOM element.</p>

<p><strong>Note</strong>: When the command-binding is applied to an anchor <code>a</code> element, it will prevent the anchor&#39;s default action when clicked.</p>

<h2>Example 1</h2>

<p>Each time you click the button, this will invoke incrementClickCounterCmd on the view model, which in turn changes the view model state, which causes the UI to update.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">You&#39;ve clicked <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: numberOfClicks&quot;</span><span class="nt">&gt;&lt;/span&gt;</span> times
<span class="nt">&lt;button</span> <span class="na">data-bind=</span><span class="s">&quot;command: incrementClickCounterCmd&quot;</span><span class="nt">&gt;</span>Click me<span class="nt">&lt;/button&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
    <span class="kd">function</span> <span class="nx">ViewModel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">incrementClickCounterCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">},</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

<span class="nx">wx</span><span class="p">.</span><span class="nx">applyBindings</span><span class="p">(</span><span class="k">new</span> <span class="nx">ViewModel</span><span class="p">());</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<div class="panel panel-default" id="command-example1">
    <div class="panel-heading">
        <h3 class="panel-title">Try it</h3>
    </div>
    <div class="panel-body">
        <div>
            You've clicked <span data-bind="text: numberOfClicks"></span> times
            <button data-bind="command: incrementClickCounterCmd">Click me</button>
        </div>
    </div>
</div>
  

<script type="text/javascript">
function ViewModel() {
    this.numberOfClicks = wx.property(0);

    this.incrementClickCounterCmd = wx.command(function() {
        this.numberOfClicks(this.numberOfClicks() + 1);
    }, this);
}

wx.applyBindings(new ViewModel(), document.getElementById('command-example1'));
</script>

<h2>Example 2</h2>

<p>Okay, this was not really a compelling example for using the command-binding because
it could have been implemented using a simple click-event handler. Let&#39;s make things a bit more interesting.</p>

<p>In this example the second button will only unlock after the first button has been clicked
at least three times.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">You&#39;ve clicked <span class="nt">&lt;span</span> <span class="na">data-bind=</span><span class="s">&quot;text: numberOfClicks&quot;</span><span class="nt">&gt;&lt;/span&gt;</span> times
<span class="nt">&lt;button</span> <span class="na">data-bind=</span><span class="s">&quot;command: incrementClickCounterCmd&quot;</span><span class="nt">&gt;</span>Click me<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">data-bind=</span><span class="s">&quot;command: secretCmd, text: !secretCmdCanExecute ? &#39;Locked&#39; : &#39;Unlocked&#39;&quot;</span><span class="nt">&gt;&lt;/button&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">ViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">incrementClickCounterCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">},</span> <span class="k">this</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">secretCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;You did it!&quot;</span><span class="p">);</span>
        <span class="p">},</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">whenAny</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numberOfClicks</span><span class="p">)</span> <span class="p">{</span> 
            <span class="k">return</span> <span class="nx">numberOfClicks</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="p">}),</span> <span class="k">this</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">secretCmdCanExecute</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">secretCmd</span><span class="p">.</span><span class="nx">canExecuteObservable</span><span class="p">.</span><span class="nx">toProperty</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">wx</span><span class="p">.</span><span class="nx">applyBindings</span><span class="p">(</span><span class="k">new</span> <span class="nx">ViewModel</span><span class="p">());</span>
</code></pre></div>
<div class="panel panel-default" id="command-example2">
    <div class="panel-heading">
        <h3 class="panel-title">Try it</h3>
    </div>
    <div class="panel-body">
        <div>
            You've clicked <span data-bind="text: numberOfClicks"></span> times
            <button data-bind="command: incrementClickCounterCmd">Click me</button>
            <button data-bind="command: secretCmd, text: !secretCmdCanExecute ? 'Locked' : 'Unlocked'"></button>
        </div>
    </div>
</div>
  

<script type="text/javascript">
function ViewModel() {
    this.numberOfClicks = wx.property(0);

    this.incrementClickCounterCmd = wx.command(function() {
        this.numberOfClicks(this.numberOfClicks() + 1);
    }, this);

    this.secretCmd = wx.command(function() {
        alert("You did it!");
        }, wx.whenAny(this.numberOfClicks, function(numberOfClicks) { 
            return numberOfClicks >= 3;
    }), this);

    this.secretCmdCanExecute = this.secretCmd.canExecuteObservable.toProperty();
}

wx.applyBindings(new ViewModel(), document.getElementById('command-example2'));
</script>

<p><strong>Note</strong>: You may have noticed that the second button once initially unlocked, will become locked again when clicked,
and unlock again after the alert gets dismissed. This is because by default commands
disable themselves while executing.</p>

<h2>Parameters</h2>

<h3>Main parameter</h3>

<p>The <a href="/docs/commands.html#start">command</a> you want to bind to the element. 
Depending on wether the command can currently execute or not, the element will be enabled or disabled.
Clicking on the element will execute the command.</p>

<p>To supply parameters to the command, pass an object with the following properties:</p>

<ul>
<li><code>command</code>: The <a href="/docs/commands.html#start">command</a> you want to bind to the element</li>
<li><code>parameter</code>: An optional parameter that will be passed as first argument to the command&#39;s <code>execute</code> handler.
The parameter can also be an observable.</li>
</ul>

<p><a class="next-topic" href="/docs/event-binding.html#start">Next: The Event-Binding</a></p>
</div>
		</div>
	</div>
</div>


            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 WebRxJS.org
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
        </script>

        <script type='text/javascript' src='/bundles/00130a6aa62cbbdf056682bd006294a8.js'></script>


        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
