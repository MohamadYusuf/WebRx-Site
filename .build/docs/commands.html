<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - Commands</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - Commands" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

        <link rel='stylesheet' type='text/css' href='/bundles/a4b69d3a30f1c256fab279f8c97def74.css' />


        <script type='text/javascript' src='/bundles/6e11d68a353867124309881496e54ecc.js'></script>

      </head>
    <body>
        <h1 id="logoh1">WebRx - Commands</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-white">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" title="WebRx" href="/"><img src="/images/Logo.png" height="28"/>
                            <h3>WebRx</h3></a>
                    </div>

                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="/docs/examples.html">Examples</a></li>
                            <li><a href="/docs">Documentation</a></li>

                            <li><a href="https://github.com/WebRxJS/WebRx"><i class="fa fa-github"></i> Source</a></li>
                            <li id="news"><a target="_blank" href="https://twitter.com/webrxjs"><i class="fa fa-twitter"></i> News</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

          <style>
     .content-panel {
         padding: 15px;
     }
</style>

<div class="content-panel docs syntax-theme-grey">
    <div class="row">
        <div class="col-md-3">
            <div id="doc-index" class="index">
                <h3>Getting started</h3>
                <ul>
                    <li><a href="../docs/index.html">How WebRx works and what benefits it brings</a></li>
                </ul>

                <h3>Binding syntax</h3>
                <ul>
                    <li><a href="../docs/binding-syntax.html">The <code>data-bind</code> syntax</a></li>
                    <li><a href="../docs/binding-context.html">The binding context</a></li>
                </ul>

                <h3>Core Components</h3>
                <ul>
                    <li><a href="../docs/observable-properties.html">Observable Properties</a></li>
                    <li><a href="../docs/output-properties.html">Output Properties</a></li>
                    <li><a href="../docs/observable-lists.html">Observable Lists</a></li>
                    <li><a href="../docs/commands.html">Commands</a></li>
                </ul>

                <h3>Bindings</h3>

                <h4>Controlling text and appearance</h4>
                <ul>
                    <li><a href="../docs/visible-binding.html">The <code>visible</code> binding</a></li>
                    <li><a href="../docs/hidden-binding.html">The <code>hidden</code> binding</a></li>
                    <li><a href="../docs/text-binding.html">The <code>text</code> binding</a></li>
                    <li><a href="../docs/html-binding.html">The <code>html</code> binding</a></li>
                    <li><a href="../docs/css-binding.html">The <code>css</code> binding</a></li>
                    <li><a href="../docs/style-binding.html">The <code>style</code> binding</a></li>
                    <li><a href="../docs/attr-binding.html">The <code>attr</code> binding</a></li>
                </ul>

                <h4>Control flow</h4>
                <ul>
                    <li><a href="../docs/foreach-binding.html">The <code>foreach</code> binding</a></li>
                    <li><a href="../docs/if-binding.html">The <code>if</code> binding</a></li>
                    <li><a href="../docs/ifnot-binding.html">The <code>ifnot</code> binding</a></li>
                    <li><a href="../docs/with-binding.html">The <code>with</code> binding</a></li>
                </ul>

                <h4>Working with form fields</h4>
                <ul>
                    <li><a href="../docs/command-binding.html">The <code>command</code> binding</a></li>
                    <li><a href="../docs/keyPress-binding.html">The <code>keyPress</code> binding</a></li>
                    <li><a href="../docs/event-binding.html">The <code>event</code> binding</a></li>
                    <li><a href="../docs/enabled-binding.html">The <code>enabled</code> binding</a></li>
                    <li><a href="../docs/disabled-binding.html">The <code>disabled</code> binding</a></li>
                    <li><a href="../docs/value-binding.html">The <code>value</code> binding</a></li>
                    <li><a href="../docs/textinput-binding.html">The <code>textInput</code> binding</a></li>
                    <li><a href="../docs/hasfocus-binding.html">The <code>hasFocus</code> binding</a></li>
                    <li><a href="../docs/checked-binding.html">The <code>checked</code> binding</a></li>
                    <li><a href="../docs/selected-value-binding.html">The <code>selectedValue</code> binding</a></li>
                </ul>

                <!--
                <h3>Creating custom bindings</h3>
                <ul>
                    <li><a href="../docs/custom-bindings.html">Creating custom bindings</a></li>
                    <li><a href="../docs/custom-bindings-controlling-descendant-bindings.html">Controlling descendant bindings</a></li>
                    <li><a href="../docs/custom-bindings-disposal.html">Custom disposal logic</a></li>
                </ul>
                -->

                <h3>Components</h3>
                <ul>
                    <li><a href="../docs/component-overview.html">Overview: What components and custom elements offer</a></li>
                    <li><a href="../docs/component-registration.html">Defining and registering components</a></li>
                    <li><a href="../docs/component-binding.html">The <code>component</code> binding</a></li>
                    <!-- <li><a href="../docs/component-custom-elements.html">Using custom elements</a></li>
                    <li><a href="../docs/component-built-in.html">Built-in components</a></li> -->
                </ul>

                <h3>Modules</h3>
                <ul>
                    <li><a href="../docs/module-overview.html">Overview: What modules offer</a></li>
                    <li><a href="../docs/module-registration.html">Defining and registering modules</a></li>
                    <li><a href="../docs/module-binding.html">The <code>module</code> binding</a></li>
                </ul>

                <h3>Routing</h3>
                <ul>
                    <li><a href="../docs/routing-overview.html">Overview: Routing architecture</a></li>
                    <li><a href="../docs/routing-registration.html">Defining and registering routing states</a></li>
                    <li><a href="../docs/view-binding.html">The <code>view</code> binding</a></li>
                    <li><a href="../docs/sref-binding.html">The <code>sref</code> binding</a></li>
                    <li><a href="../docs/sactive-binding.html">The <code>sactive</code> binding</a></li>
                </ul>

                <h3>Dependency-Injection</h3>
                <ul>
                    <li><a href="../docs/dependency-injection-overview.html">Overview: Dependency Injection</a></li>
                    <li><a href="../docs/dependency-registration.html">Defining and registering dependencies</a></li>
                </ul>

                <h3>Messaging</h3>
                <ul>
                    <li><a href="../docs/message-bus.html">Overview: Messaging</a></li>
                </ul>

                <!--
                <h3>Further techniques</h3>
                <ul>
                    <li><a href="../docs/unobtrusive-event-handling.html">Unobtrusive event handling</a></li>
                    <li><a href="../docs/binding-preprocessing.html">Extending Webrx's binding syntax</a></li>
                </ul>
                -->

                <h3>API Docs</h3>
                <ul>
                    <li><a href="../api/modules/_interfaces_.wx.html">Module <code>wx</code></a></li>
                </ul>

                <h3>More information</h3>
                <ul>
                    <li><a href="../docs/browser-support.html">Browser support</a></li>
                </ul>
            </div>
        </div>

        <div id="start" class="col-md-9">
            <div class="body"><h1>Commands</h1>

<p>Commands represent discrete actions that are taken in the UI - <code>Copy</code>, <code>Open</code>, and <code>Ok</code> are good examples of Commands. 
Usually these Commands are bound to an element that is built to handle Commands, like a Button or an Anchor.</p>

<p>Many Commands are invoked directly by the user, but some operations are also useful to model via Commands 
despite being primarily invoked progmatically. For example, many code paths involving periodically loading 
or refreshing resources (i.e. &quot;LoadTweets&quot;) can be modeled well using Commands.</p>

<p><strong>Note:</strong> For information on how to utilize commands in your views and bindings refer to the <a href="/docs/command-binding.html">command-binding</a> documentation.</p>

<h2>Creating commands</h2>

<p>The simplest form of a command is one that can always execute:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>To manually execute a command, invoke its <code>execute</code> method:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">cmd</span><span class="p">.</span><span class="nx">execute</span><span class="p">();</span>
</code></pre></div>
<h3>Commands that can only execute when certain conditions are met</h3>

<p>Except for very simple cases, commands should not be allowed to execute in all situtations.
For example, an imaginary <code>copy</code> command would require an existing selection and a <code>paste</code> command
would require a non-empty clipboard.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">ViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">fooCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;You did it!&quot;</span><span class="p">);</span>
        <span class="p">},</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">whenAny</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">numberOfClicks</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numberOfClicks</span><span class="p">)</span> <span class="p">{</span> 
            <span class="k">return</span> <span class="nx">numberOfClicks</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="p">}),</span> <span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>In this example we have setup <code>fooCmd</code> to only be executable once the view-model&#39;s
<code>numberOfClicks</code> property reaches a value of 3 or higher. </p>

<p>Once again we take advantage of WebRx&#39;s <code>whenAny</code> helper to implement this. <code>whenAny</code> takes 
any number of observable properties as input, subscribes to their <code>changed</code> observables
and returns an observable that can be directly passed as argument to <code>wx.command</code>.</p>

<p>The command will monitor the observable and adjust the command&#39;s <code>canExecute</code> status
depending on wether the latest value from the observable evaluates falsy or truthy.</p>

<h2>Commands and the <code>this</code> keyword</h2>

<p>Javascript developers often have to deal with the problem of <code>this</code> being redefined by event-handlers or Ajax-Request Callbacks.
This becomes a problem when commands need to interact with or modify their enclosing view-model.
To avoid this, you can pass an additional argument to <code>wx.command</code> that will ensure that the command
will always execute with <code>this</code> being set to the specified value.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">ViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fooCmd</span> <span class="o">=</span> <span class="nx">wx</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">);</span>
    <span class="p">},</span> <span class="k">this</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>If <code>fooCmd</code> would be triggered by a button-click and we hadn&#39;t passed <code>this</code> to <code>wx.command</code>,
the alert would display &quot;undefined&quot;, because <code>this</code> would point to the windows object instead
our view-model.</p>

<p><a class="next-topic" href="/docs/visible-binding.html">Next: The Visible-Binding</a></p>
</div>
        </div>
    </div>
</div>


            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 WebRxJS.org
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
        </script>

        <script type='text/javascript' src='/bundles/1ea4218292d5d3bfe7f2a6783f75e0e1.js'></script>


        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
