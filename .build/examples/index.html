<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>WebRx - Router-Demo</title>

        <meta property="og:type" content="website" /> 
        <meta property="og:title" content="WebRx - Router-Demo" /> 
        <meta property="og:site_name" content="WebRx"/>         
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

        <link rel='stylesheet' type='text/css' href='/bundles/6a1a71f900a1987d1bc767fbff7eda10.css' />


        <script type='text/javascript' src='/bundles/f618b20ac7deac5cfea31b62894bc094.js'></script>

      </head>
    <body>
        <h1 id="logoh1">WebRx - Router-Demo</h1>
        <div id="main-container" class="container">
            <nav class="navbar navbar-white">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" title="WebRx" href="/"><img src="/images/Logo.png" height="28"/>
                            <h3>WebRx</h3></a>
                    </div>

                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="/docs/examples.html">Examples</a></li>
                            <li><a href="/docs">Documentation</a></li>

                            <li><a href="https://github.com/WebRxJS/WebRx"><i class="fa fa-github"></i> Source</a></li>
                            <li id="news"><a target="_blank" href="https://twitter.com/webrxjs"><i class="fa fa-twitter"></i> News</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

          <style>
    #main-container {
        background-color: white;
    }

    .pt-perspective {
        position: relative;
        transform-style: preserve-3d;
     }

    .pt-perspective > div {
        backface-visibility: hidden;
        transform: translate3d(0, 0, 0);
    }

    .enter {
	    animation: flipX 600ms ease both;
        animation-play-state: paused;
	    -webkit-animation: flipX 600ms ease both;
        -webkit-animation-play-state: paused;
        position: absolute;
    }
    .enter.start {
        animation-play-state: running;
        -webkit-animation-play-state: running;
    }

    .leave {
        animation: flipXInverted 600ms ease both;
        animation-play-state: paused;
        -webkit-animation: flipXInverted 600ms ease both;
        -webkit-animation-play-state: paused;
        position: absolute;
    }
    .leave.start {
        animation-play-state: running;
        -webkit-animation-play-state: running;
    }
    .leave.complete {
        display: none;
    }

    @-webkit-keyframes flipXInverted {
	    from { }
	    to { -webkit-transform: rotateX(-180deg); }
    }

    @keyframes flipXInverted {
	    from { }
	    to { transform: rotateX(-180deg); }
    }

    @-webkit-keyframes flipX {
	    from { -webkit-transform: rotateX(180deg); }
    }

    @keyframes flipX {
    	from { transform: rotateX(180deg); }
    }
</style>
<div id="router-demo" class="content-panel">
    <div class="row">
        <div class="col-md-12">
            <ul class="nav nav-pills">
                <li role="presentation" data-bind="sactive: 'home'"><a data-bind="sref: 'home'">Home</a></li>
                <li role="presentation" data-bind="sactive: 'contacts'"><a data-bind="sref: 'contacts'">Contacts</a></li>
                <li role="presentation" data-bind="sactive: 'about'"><a data-bind="sref: 'about'">About</a></li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 row">
            <div class="col-md-12" data-bind="view: 'main'"></div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12" data-bind="component: 'state-visualizer'"></div>
    </div>
</div>

<script id="home-template" type="text/html">
    <h2>Welcome to the UI-Router Demo</h2>
    <p>Use the menu above to navigate.</p>
    <p>Pay attention to the state and state-params values below.</p>
    <p>Note how document titles get automatically restored when navigating back and forth.</p>
</script>

<script id="contact-list-template" type="text/html">
    <div class="row">
        <div class="col-md-12">
            <h2>All contacts</h2>
        </div>
    </div>
    <div class="row" style="overflow: hidden">
        <div class="col-md-6">
            <div class="list-group" data-bind="foreach: contacts">
                <a class="list-group-item" data-bind="text: name,
                   sref: { name: 'contacts.details', params: { id: id } },
                   sactive: { name: 'contacts.details', params: { id: id } }"></a>
            </div>
        </div>
        <div class="col-md-6 pt-perspective" data-bind="view: 'details'"></div>
    </div>
</script>

<script id="contact-details-template" type="text/html">
    Id: <label data-bind="text: contact.id"></label><br />
    Name: <label data-bind="text: contact.name"></label><br />
    Email: <label data-bind="text: contact.email"></label>><br />
</script>

<script id="about-template" type="text/html">
    <h2>Router Resources</h2>
    <ul>
        <li><a target="_blank" href="https://github.com/oliverw/WebRx-Site/blob/master/examples/router-demo/index.html">Source for this sample.</a></li>
        <li><a href="/docs/routing-overview.html">WebRx Routing Documentation</a></li>    </ul>
</script>

<script id="state-visualizer-template" type="text/html">
    <br/>
    <div class="panel panel-success">
        <div class="panel-heading">
            <h3 class="panel-title">Routing State</h3>
        </div>
        <div class="panel-body">
            <table>
                <tbody>
                    <tr>
                        <td>State</td>
                        <td data-bind="text: '\'' + name + '\''"></td>
                    </tr>
                    <tr>
                        <td>Route</td>
                        <td data-bind="text: route"></td>
                    </tr>
                    <tr>
                        <td>Params</td>
                        <td data-bind="text: params"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</script>

<script>
    function ContactService() {
        this.contacts = [
            { id: 1, name: "Bob", email: "bob@acme.com" },
            { id: 2, name: "Alice", email: "alice@acme.com" }
        ];

        this.getContacts = function() {
            return this.contacts;
        };

        this.getContact = function(id) {
            return this.contacts.filter(function(x) {
                return x.id == id;
            })[0];
        };
    }

    var contactService = new ContactService();

    wx.app.component('home', {
        template: {
            element: 'home-template'
        }
    });    

    wx.app.component('contact-list', {
        template: {
            element: 'contact-list-template'
        },
        viewModel: function (params) {
            this.contacts = wx.list(contactService.getContacts());

            wx.app.title("Contacts");
        }
    });

    wx.app.component('contact-details', {
        template: {
            element: 'contact-details-template'
        },
        viewModel: function (params) {
            this.contact = contactService.getContact(params.id);

            wx.app.title("Contact Details: " + this.contact.name);
        }
    });

    wx.app.component('about', {
        template: {
            element: 'about-template'
        },
        viewModel: function (params) {
            wx.app.title("About");
        }
    });

    wx.app.component('state-visualizer', {
        template: {
            element: 'state-visualizer-template'
        }, viewModel: function(params) {
            this.name = wx.property();
            this.route = wx.property();
            this.params = wx.property();

            var self = this;
            wx.router.current.changed.startWith(wx.router.current()).subscribe(function(x) {
                self.name(x.name);
                self.route(x.route.stringify(x.params));
                self.params(x.params ? JSON.stringify(x.params) : "");
            });
        }
    });

    wx.app.animation('enter', wx.animation("enter", "start"));
    wx.app.animation('leave', wx.animation("leave", "start", "complete"));

    wx.router.state({
        name: "home",
        route: "/examples/router-demo/",
        views: {
            'main': "home"
        }
    }).state({
        name: "contacts",
        route: "/examples/router-demo/contacts",
        views: {
            'main': "contact-list"
        }
    }).state({
        name: "about",
        route: "/examples/router-demo/about",
        views: {
            'main': "about"
        }
    }).state({
        name: "contacts.details",
        route: "/examples/router-demo/contacts/:id",
        views: {
             'details': {
                component: "contact-details",
                animations: {
                    enter: "enter",
                    leave: "leave"
                }
            }
        }
    });

    wx.router.go("home", {}, { location: 2 });

    wx.applyBindings(undefined, document.getElementById("router-demo"));
</script>


            <div id="footer" class="content-panel">
                <div class="row">
                  <div class="copyright col-md-4">
                    Copyright (c) 2015 WebRxJS.org
                  </div>

                  <div class="copyright col-md-4">
                  </div>

                  <div class="copyright col-md-4 text-right">
                    <a id="impressum" href="/impressum.html">Impressum</a>
                  </div>
                </div>
            </div>
        </div>

        <script type='text/javascript'>
        if(!wx.env.isSupported)
          wx.toggleCssClass(document.body, true, "wx-unsupported");
        </script>

        <script type='text/javascript' src='/bundles/af6c173bae09c23061effb2b5d9cccac.js'></script>


        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-60860613-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
